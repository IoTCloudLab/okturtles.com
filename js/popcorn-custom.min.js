/*
 * popcorn.js version v1.5.7
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

!function(){if(!document.addEventListener&&!document.removeEventListener&&!document.dispatchEvent){var e={},t=function(t,n){return t="DOMContentLoaded"===t?"readystatechange":t,Event[t.toUpperCase()]||"readystatechange"===t?void document.attachEvent("on"+t,n):(e[t]||(e[t]={events:[],queue:[],active:!1}),void(e[t].active?e[t].queue.push(n):e[t].events.push(n)))},n=function(t,n){t="DOMContentLoaded"===t?"readystatechange":t;var r=0,i=e[t];if(Event[t.toUpperCase()]||"readystatechange"===t)return void document.detachEvent("on"+t,n);if(i){for(r=i.events.length-1;r>=0;r--)n===i.events[r]&&delete i.events[r];for(r=i.queue.length-1;r>=0;r--)n===i.queue[r]&&delete i.queue[r]}},r=function(t){var n,r,i,o,a=this,u=t.type;if(u||(u=t,r=Popcorn.events.getInterface(u),r&&(n=document.createEvent(r),n.initCustomEvent(u,!0,!0,window,1))),i=e[u]){i.active=!0;for(var s=0;s<i.events.length;s++)i.events[s]&&i.events[s].call(a,n,a);if(i.queue.length)for(;i.queue.length;)o=i.queue.shift(),o&&i.events.push(o);i.active=!1,i.events.forEach(function(e){e||i.events.splice(i.events.indexOf(e),1)}),i.queue.forEach(function(e){e||i.queue.splice(i.queue.indexOf(e),1)})}};document.addEventListener=t,document.removeEventListener=n,document.dispatchEvent=r}Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),window.addEventListener=window.addEventListener||function(e,t){e="on"+e,window.attachEvent(e,t)},window.removeEventListener=window.removeEventListener||function(e,t){e="on"+e,window.detachEvent(e,t)},HTMLScriptElement.prototype.addEventListener=HTMLScriptElement.prototype.addEventListener||function(e,t){e="load"===e?"onreadystatechange":"on"+e,"onreadystatechange"===e&&(t.readyStateCheck=t.readyStateCheck||function(e){"loaded"===self.readyState&&t(e)}),this.attachEvent(e,t.readyStateCheck||t)},HTMLScriptElement.prototype.removeEventListener=HTMLScriptElement.prototype.removeEventListener||function(e,t){e="load"===e?"onreadystatechange":"on"+e,this.detachEvent(e,t.readyStateCheck||t)},document.createEvent=document.createEvent||function(){return{type:null,target:null,currentTarget:null,cancelable:!1,detail:!1,bubbles:!1,initEvent:function(e){this.type=e},initCustomEvent:function(e,t,n,r){this.type=e,this.detail=r},stopPropagation:function(){},stopImmediatePropagation:function(){}}},Array.prototype.forEach=Array.prototype.forEach||function(e,t){var n=this,r=Object.prototype.hasOwnProperty;if(!n||!e)return{};t=t||this;var i;for(i in n)r.call(n,i)&&e.call(t,n[i],i,n);return n},Array.prototype.map||(Array.prototype.map=function(e,t){var n,r,i;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),a=o.length>>>0;if("[object Function]"!={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(n=t),r=new Array(a),i=0;a>i;){var u,s;i in o&&(u=o[i],s=e.call(n,u,i,o),r[i]=s),i++}return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&1/0!=r&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,u=[];for(o in i)e.call(i,o)&&u.push(o);if(t)for(a=0;r>a;a++)e.call(i,n[a])&&u.push(n[a]);return u}}()),Object.defineProperties||(Object.defineProperties=function(e,t){function n(t){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return"function"==typeof e}if("object"!=typeof t||null===t)throw new TypeError("bad desc");var i={};if(n(t,"enumerable")&&(i.enumerable=!!e.enumerable),n(t,"configurable")&&(i.configurable=!!t.configurable),n(t,"value")&&(i.value=e.value),n(t,"writable")&&(i.writable=!!t.writable),n(t,"get")){var o=t.get;if(!r(o)&&"undefined"!==o)throw new TypeError("bad get");i.get=o}if(n(t,"set")){var a=t.set;if(!r(a)&&"undefined"!==a)throw new TypeError("bad set");i.set=a}if(("get"in i||"set"in i)&&("value"in i||"writable"in i))throw new TypeError("identity-confused descriptor");return i}if("object"!=typeof e||null===e)throw new TypeError("bad obj");t=Object(t);for(var r=Object.keys(t),i=[],o=0;o<r.length;o++)i.push([r[o],n(t[r[o]])]);for(var o=0;o<i.length;o++)Object.defineProperty(e,i[o][0],i[o][1]);return e})}(),function(e,t){function n(e){_.put.call(this,e)}function r(e){this.parent=e,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,this.count=1}function i(e,t,n){return e[t]&&e[t]===n}function o(e,t){var n={};for(var r in e)l.call(t,r)&&l.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){return function(){if(b.plugin.debug)return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(n){b.plugin.errors.push({plugin:t,thrown:n,source:e.toString()}),this.emit("pluginerror",b.plugin.errors)}}}if(t.addEventListener){var u=Array.prototype,s=Object.prototype,c=u.forEach,d=u.slice,l=s.hasOwnProperty,p=s.toString,f=e.Popcorn,h=[],v=!1,y=!1,m={events:{hash:{},apis:{}}},g=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,16)}}(),E=function(e){return Object.keys?Object.keys(e):function(e){var t,n=[];for(t in e)l.call(e,t)&&n.push(t);return n}(e)},_={put:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}},b=function(e,t){return new b.p.init(e,t||null)};b.version="@VERSION",b.isSupported=!0,b.instances=[],b.p=b.prototype={init:function(e,n){var i,o,a=this;{if("function"!=typeof e){if("string"==typeof e)try{i=t.querySelector(e)}catch(u){throw new Error("Popcorn.js Error: Invalid media element selector: "+e)}if(this.media=i||e,o=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video",this[o]=this.media,this.options=b.extend({},n)||{},this.id=this.options.id||b.guid(o),b.byId(this.id))throw new Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:b.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new r(this)},b.instances.push(this);var s=function(){a.media.currentTime<0&&(a.media.currentTime=0),a.media.removeEventListener("loadedmetadata",s,!1);var e,t,n,r,i,o;e=a.media.duration,t=e!=e?Number.MAX_VALUE:e+1,b.addTrackEvent(a,{start:t,end:t}),a.isDestroyed||(a.data.durationChange=function(){var e=a.media.duration,t=e+1,n=a.data.trackEvents.byStart,r=a.data.trackEvents.byEnd;n.pop(),r.pop();for(var i=r.length-1;i>0;i--)r[i].end>e&&a.removeTrackEvent(r[i]._id);for(var o=0;o<n.length;o++)n[o].end>e&&a.removeTrackEvent(n[o]._id);a.data.trackEvents.byEnd.push({start:t,end:t}),a.data.trackEvents.byStart.push({start:t,end:t})},a.media.addEventListener("durationchange",a.data.durationChange,!1)),a.options.frameAnimation?(a.data.timeUpdate=function(){b.timeUpdate(a,{}),b.forEach(b.manifest,function(e,t){if(n=a.data.running[t]){i=n.length;for(var u=0;i>u;u++)r=n[u],o=r._natives,o&&o.frame&&o.frame.call(a,{},r,a.currentTime())}}),a.emit("timeupdate"),!a.isDestroyed&&g(a.data.timeUpdate)},!a.isDestroyed&&g(a.data.timeUpdate)):(a.data.timeUpdate=function(e){b.timeUpdate(a,e)},a.isDestroyed||a.media.addEventListener("timeupdate",a.data.timeUpdate,!1))};return a.media.addEventListener("error",function(){a.error=a.media.error},!1),a.media.readyState>=1?s():a.media.addEventListener("loadedmetadata",s,!1),this}if("complete"===t.readyState)return void e(t,b);if(h.push(e),!v){v=!0;var c=function(){y=!0,t.removeEventListener("DOMContentLoaded",c,!1);for(var e=0,n=h.length;n>e;e++)h[e].call(t,b);h=null};t.addEventListener("DOMContentLoaded",c,!1)}}}},b.p.init.prototype=b.p,b.byId=function(e){for(var t=b.instances,n=t.length,r=0;n>r;r++)if(t[r].id===e)return t[r];return null},b.forEach=function(e,t,n){if(!e||!t)return{};n=n||this;var r,i;if(c&&e.forEach===c)return e.forEach(t,n);if("[object NodeList]"===p.call(e)){for(r=0,i=e.length;i>r;r++)t.call(n,e[r],r,e);return e}for(r in e)l.call(e,r)&&t.call(n,e[r],r,e);return e},b.extend=function(e){var t=e,n=d.call(arguments,1);return b.forEach(n,function(e){for(var n in e)t[n]=e[n]}),t},b.extend(b,{noConflict:function(t){return t&&(e.Popcorn=f),b},error:function(e){throw new Error(e)},guid:function(e){return b.guid.counter++,(e?e:"")+(+new Date+b.guid.counter)},sizeOf:function(e){var t=0;for(var n in e)t++;return t},isArray:Array.isArray||function(e){return"[object Array]"===p.call(e)},nop:function(){},position:function(n){if(!n.parentNode)return null;var r,i,o,a,u,s,c=n.getBoundingClientRect(),d={},l=(n.ownerDocument,t.documentElement),p=t.body;r=l.clientTop||p.clientTop||0,i=l.clientLeft||p.clientLeft||0,o=e.pageYOffset&&l.scrollTop||p.scrollTop,a=e.pageXOffset&&l.scrollLeft||p.scrollLeft,u=Math.ceil(c.top+o-r),s=Math.ceil(c.left+a-i);for(var f in c)d[f]=Math.round(c[f]);return b.extend({},d,{top:u,left:s})},disable:function(e,t){if(!e.data.disabled[t]){if(e.data.disabled[t]=!0,t in b.registryByName&&e.data.running[t])for(var n,r=e.data.running[t].length-1;r>=0;r--)n=e.data.running[t][r],n._natives.end.call(e,null,n),e.emit("trackend",b.extend({},n,{plugin:n.type,type:"trackend"}));return e}},enable:function(e,t){if(e.data.disabled[t]){if(e.data.disabled[t]=!1,t in b.registryByName&&e.data.running[t])for(var n,r=e.data.running[t].length-1;r>=0;r--)n=e.data.running[t][r],n._natives.start.call(e,null,n),e.emit("trackstart",b.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return e}},destroy:function(e){var t,n,r,i,o=e.data.events,a=e.data.trackEvents;for(n in o){t=o[n];for(r in t)delete t[r];o[n]=null}for(i in b.registryByName)b.removePlugin(e,i);a.byStart.length=0,a.byEnd.length=0,e.isDestroyed||(e.data.timeUpdate&&e.media.removeEventListener("timeupdate",e.data.timeUpdate,!1),e.isDestroyed=!0),b.instances.splice(b.instances.indexOf(e),1)}}),b.guid.counter=1,b.extend(b.p,function(){var e="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",t={};return b.forEach(e.split(/\s+/g),function(e){t[e]=function(t){var n;return"function"==typeof this.media[e]?(null!=t&&/play|pause/.test(e)&&(this.media.currentTime=b.util.toSeconds(t)),this.media[e](),this):null!=t?(n=this.media[e],this.media[e]=t,n!==t&&this.emit("attrchange",{attribute:e,previousValue:n,currentValue:t}),this):this.media[e]}}),t}()),b.forEach("enable disable".split(" "),function(e){b.p[e]=function(t){return b[e](this,t)}}),b.extend(b.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(e,t,r){var i,o,a,u=arguments.length,s="trackadded";try{o=b.util.toSeconds(e)}catch(c){}if("number"==typeof o&&(e=o),"number"==typeof e&&2===u)r=t,t=e,e=b.guid("cue");else if(1===u)t=-1;else if(i=this.getTrackEvent(e))this.data.trackEvents.remove(e),n.end(this,i),b.removeTrackEvent.ref(this,e),s="cuechange","string"==typeof e&&2===u&&("number"==typeof t&&(r=i._natives.start),"function"==typeof t&&(r=t,t=i.start));else if(u>=2){if("string"==typeof t){try{o=b.util.toSeconds(t)}catch(c){}t=o}"number"==typeof t&&(r=r||b.nop()),"function"==typeof t&&(r=t,t=-1)}return a={id:e,start:t,end:t+1,_running:!1,_natives:{start:r||b.nop,end:b.nop,type:"cue"}},i&&(a=b.extend(i,a)),"cuechange"===s?(a._id=a.id||a._id||b.guid(a._natives.type),this.data.trackEvents.add(a),n.start(this,a),this.timeUpdate(this,null,!0),b.addTrackEvent.ref(this,a),this.emit(s,b.extend({},a,{id:e,type:s,previousValue:{time:i.start,fn:i._natives.start},currentValue:{time:t,fn:r||b.nop},track:i}))):b.addTrackEvent(this,a),this},mute:function(e){var t=null==e||e===!0?"muted":"unmuted";return"unmuted"===t&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===t&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(t),this},unmute:function(e){return this.mute(null==e?!1:!e)},position:function(){return b.position(this.media)},toggle:function(e){return b[this.data.disabled[e]?"enable":"disable"](this,e)},defaults:function(e,t){return b.isArray(e)?(b.forEach(e,function(e){for(var t in e)this.defaults(t,e[t])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[e]||(this.options.defaults[e]={}),b.extend(this.options.defaults[e],t),this)}}),b.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},b.Events.Natives=b.Events.UIEvents+" "+b.Events.MouseEvents+" "+b.Events.Events,m.events.apiTypes=["UIEvents","MouseEvents","Events"],function(e,t){for(var n=m.events.apiTypes,r=e.Natives.split(/\s+/g),i=0,o=r.length;o>i;i++)t.hash[r[i]]=!0;n.forEach(function(n){t.apis[n]={};for(var r=e[n].split(/\s+/g),i=r.length,o=0;i>o;o++)t.apis[n][r[o]]=!0})}(b.Events,m.events),b.events={isNative:function(e){return!!m.events.hash[e]},getInterface:function(e){if(!b.events.isNative(e))return!1;for(var t,n,r=m.events,i=r.apiTypes,o=r.apis,a=0,u=i.length;u>a;a++)if(n=i[a],o[n][e]){t=n;break}return t},all:b.Events.Natives.split(/\s+/g),fn:{trigger:function(n,r){var i,o,a,u=this.data.events[n];if(u){if(i=b.events.getInterface(n))return o=t.createEvent(i),o.initEvent(n,!0,!0,e,1),this.media.dispatchEvent(o),this;for(a=u.slice();a.length;)a.shift().call(this,r)}return this},listen:function(e,t){var n,r,i=this,o=!0,a=b.events.hooks[e];if("function"!=typeof t)throw new Error("Popcorn.js Error: Listener is not a function");return this.data.events[e]||(this.data.events[e]=[],o=!1),a&&(a.add&&a.add.call(this,{},t),a.bind&&(e=a.bind),a.handler&&(r=t,t=function(e){a.handler.call(i,e,r)}),o=!0,this.data.events[e]||(this.data.events[e]=[],o=!1)),this.data.events[e].push(t),!o&&b.events.all.indexOf(e)>-1&&this.media.addEventListener(e,function(t){if(i.data.events[e])for(n=i.data.events[e].slice();n.length;)n.shift().call(i,t)},!1),this},unlisten:function(e,t){var n,r=this.data.events[e];if(r){if("string"==typeof t){for(var i=0;i<r.length;i++)r[i].name===t&&r.splice(i--,1);return this}if("function"==typeof t){for(;-1!==n;)n=r.indexOf(t),-1!==n&&r.splice(n,1);return this}return this.data.events[e]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(e,t){var n=!1;this.media.readyState&&(setTimeout(function(){t.call(this,e)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(e,t){this.data.hooks.canplayall.fired||(t.call(this,e),this.data.hooks.canplayall.fired=!0)}}}},b.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(e){b.p[e[0]]=b.p[e[1]]=b.events.fn[e[0]]}),n.start=function(e,t){t.end>e.media.currentTime&&t.start<=e.media.currentTime&&!t._running&&(t._running=!0,e.data.running[t._natives.type].push(t),e.data.disabled[t._natives.type]||(t._natives.start.call(e,null,t),e.emit("trackstart",b.extend({},t,{plugin:t._natives.type,type:"trackstart",track:t}))))},n.end=function(e,t){var n;(t.end<=e.media.currentTime||t.start>e.media.currentTime)&&t._running&&(n=e.data.running[t._natives.type],t._running=!1,n.splice(n.indexOf(t),1),e.data.disabled[t._natives.type]||(t._natives.end.call(e,null,t),e.emit("trackend",b.extend({},t,{plugin:t._natives.type,type:"trackend",track:t}))))},r.prototype.where=function(e){return(this.parent.getTrackEvents()||[]).filter(function(t){var n,r;if(!e)return!0;for(n in e)if(r=e[n],i(t,n,r)||i(t._natives,n,r))return!0;return!1})},r.prototype.add=function(e){var t,n,r=this.byStart,i=this.byEnd;for(e&&e._id&&this.parent.data.history.push(e._id),e.start=b.util.toSeconds(e.start,this.parent.options.framerate),e.end=b.util.toSeconds(e.end,this.parent.options.framerate),t=r.length-1;t>=0;t--)if(e.start>=r[t].start){r.splice(t+1,0,e);break}for(n=i.length-1;n>=0;n--)if(e.end>i[n].end){i.splice(n+1,0,e);break}t<=this.parent.data.trackEvents.startIndex&&e.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++,n<=this.parent.data.trackEvents.endIndex&&e.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++,this.count++},r.prototype.remove=function(e,t){if(e instanceof n&&(e=e.id),"object"==typeof e)return this.where(e).forEach(function(e){this.removeTrackEvent(e._id)},this.parent),this;var r,i,o,a,u,s=this.byStart.length,c=0,d=0,l=[],p=[],f=[],h=[];for(t=t||{};--s>-1;)r=this.byStart[c],i=this.byEnd[c],r._id||(l.push(r),p.push(i)),r._id&&(r._id!==e&&l.push(r),i._id!==e&&p.push(i),r._id===e&&(d=c,u=r)),c++;if(s=this.animating.length,c=0,s)for(;--s>-1;)o=this.animating[c],o._id||f.push(o),o._id&&o._id!==e&&f.push(o),c++;d<=this.startIndex&&this.startIndex--,d<=this.endIndex&&this.endIndex--,this.byStart=l,this.byEnd=p,this.animating=f,this.count--,a=this.parent.data.history.length;for(var v=0;a>v;v++)this.parent.data.history[v]!==e&&h.push(this.parent.data.history[v]);this.parent.data.history=h},b.addTrackEvent=function(e,t){var r;t instanceof n||(t=new n(t),t&&t._natives&&t._natives.type&&e.options.defaults&&e.options.defaults[t._natives.type]&&(r=b.extend({},t),b.extend(t,e.options.defaults[t._natives.type],r)),t._natives&&(t._id=t.id||t._id||b.guid(t._natives.type),t._natives._setup&&(t._natives._setup.call(e,t),e.emit("tracksetup",b.extend({},t,{plugin:t._natives.type,type:"tracksetup",track:t})))),e.data.trackEvents.add(t),n.start(e,t),this.timeUpdate(e,null,!0),t._id&&b.addTrackEvent.ref(e,t),e.emit("trackadded",b.extend({},t,t._natives?{plugin:t._natives.type}:{},{type:"trackadded",track:t})))},b.addTrackEvent.ref=function(e,t){return e.data.trackRefs[t._id]=t,e},b.removeTrackEvent=function(e,t){var n=e.getTrackEvent(t);n&&(n._natives._teardown&&n._natives._teardown.call(e,n),e.data.trackEvents.remove(t),b.removeTrackEvent.ref(e,t),n._natives&&e.emit("trackremoved",b.extend({},n,{plugin:n._natives.type,type:"trackremoved",track:n})))},b.removeTrackEvent.ref=function(e,t){return delete e.data.trackRefs[t],e},b.getTrackEvents=function(e){for(var t,n=[],r=e.data.trackEvents.byStart,i=r.length,o=0;i>o;o++)t=r[o],t._id&&n.push(t);return n},b.getTrackEvents.ref=function(e){return e.data.trackRefs},b.getTrackEvent=function(e,t){return e.data.trackRefs[t]},b.getTrackEvent.ref=function(e,t){return e.data.trackRefs[t]},b.getLastTrackEventId=function(e){return e.data.history[e.data.history.length-1]},b.timeUpdate=function(e,t){var n,r,i,o,a,u=e.media.currentTime,s=e.data.trackEvents.previousUpdateTime,c=e.data.trackEvents,d=c.endIndex,l=c.startIndex,p=c.byStart.length,f=c.byEnd.length,h=b.registryByName,v="trackstart",y="trackend";if(u>=s){for(;c.byEnd[d]&&c.byEnd[d].end<=u;){if(n=c.byEnd[d],i=n._natives,o=i&&i.type,i&&!h[o]&&!e[o])return void b.removeTrackEvent(e,n._id);n._running===!0&&(n._running=!1,a=e.data.running[o],a.splice(a.indexOf(n),1),e.data.disabled[o]||(i.end.call(e,t,n),e.emit(y,b.extend({},n,{plugin:o,type:y,track:n})))),d++}for(;c.byStart[l]&&c.byStart[l].start<=u;){if(r=c.byStart[l],i=r._natives,o=i&&i.type,i&&!h[o]&&!e[o])return void b.removeTrackEvent(e,r._id);r.end>u&&r._running===!1&&(r._running=!0,e.data.running[o].push(r),e.data.disabled[o]||(i.start.call(e,t,r),e.emit(v,b.extend({},r,{plugin:o,type:v,track:r})))),l++}}else if(s>u){for(;c.byStart[l]&&c.byStart[l].start>u;){if(r=c.byStart[l],i=r._natives,o=i&&i.type,i&&!h[o]&&!e[o])return void b.removeTrackEvent(e,r._id);r._running===!0&&(r._running=!1,a=e.data.running[o],a.splice(a.indexOf(r),1),e.data.disabled[o]||(i.end.call(e,t,r),e.emit(y,b.extend({},r,{plugin:o,type:y,track:r})))),l--}for(;c.byEnd[d]&&c.byEnd[d].end>u;){if(n=c.byEnd[d],i=n._natives,o=i&&i.type,i&&!h[o]&&!e[o])return void b.removeTrackEvent(e,n._id);n.start<=u&&n._running===!1&&(n._running=!0,e.data.running[o].push(n),e.data.disabled[o]||(i.start.call(e,t,n),e.emit(v,b.extend({},n,{plugin:o,type:v,track:n})))),d--}}c.endIndex=d,c.startIndex=l,c.previousUpdateTime=u,c.byStart.length<p&&c.startIndex--,c.byEnd.length<f&&c.endIndex--},b.extend(b.p,{getTrackEvents:function(){return b.getTrackEvents.call(null,this)},getTrackEvent:function(e){return b.getTrackEvent.call(null,this,e)},getLastTrackEventId:function(){return b.getLastTrackEventId.call(null,this)},removeTrackEvent:function(e){return b.removeTrackEvent.call(null,this,e),this},removePlugin:function(e){return b.removePlugin.call(null,this,e),this},timeUpdate:function(e){return b.timeUpdate.call(null,this,e),this},destroy:function(){return b.destroy.call(null,this),this}}),b.manifest={},b.registry=[],b.registryByName={},b.plugin=function(e,t,r){if(b.protect.natives.indexOf(e.toLowerCase())>=0)return void b.error("'"+e+"' is a protected function name");var i="function"==typeof t,u=["start","end","type","manifest"],s=["_setup","_teardown","start","end","frame"],c={},p=function(e,t){return e=e||b.nop,t=t||b.nop,function(){e.apply(this,arguments),t.apply(this,arguments)}};b.manifest[e]=r=r||t.manifest||{},s.forEach(function(n){t[n]=a(t[n]||b.nop,e)});var f=function(t,i){if(!i)return this;if(i.ranges&&b.isArray(i.ranges))return b.forEach(i.ranges,function(t){var n=b.extend({},i,t);delete n.ranges,this[e](n)},this),this;var o,a=i._natives={},c="";return b.extend(a,t),i._natives.type=i._natives.plugin=e,i._running=!1,a.start=a.start||a["in"],a.end=a.end||a.out,i.once&&(a.end=p(a.end,function(){this.removeTrackEvent(i._id)})),a._teardown=p(function(){var e=d.call(arguments),t=this.data.running[a.type];e.unshift(null),e[1]._running&&t.splice(t.indexOf(i),1)&&a.end.apply(this,e),e[1]._running=!1,this.emit("trackend",b.extend({},i,{plugin:a.type,type:"trackend",track:b.getTrackEvent(this,i.id||i._id)}))},a._teardown),a._teardown=p(a._teardown,function(){this.emit("trackteardown",b.extend({},i,{plugin:e,type:"trackteardown",track:b.getTrackEvent(this,i.id||i._id)}))}),i.compose=i.compose||[],"string"==typeof i.compose&&(i.compose=i.compose.split(" ")),i.effect=i.effect||[],"string"==typeof i.effect&&(i.effect=i.effect.split(" ")),i.compose=i.compose.concat(i.effect),i.compose.forEach(function(e){c=b.compositions[e]||{},s.forEach(function(e){a[e]=p(a[e],c[e])})}),i._natives.manifest=r,"start"in i||(i.start=i["in"]||0),i.end||0===i.end||(i.end=i.out||Number.MAX_VALUE),l.call(i,"toString")||(i.toString=function(){var t=["start: "+i.start,"end: "+i.end,"id: "+(i.id||i._id)];return null!=i.target&&t.push("target: "+i.target),e+" ( "+t.join(", ")+" )"}),i.target||(o="options"in r&&r.options,i.target=o&&"target"in o&&o.target),!i._id&&i._natives&&(i._id=b.guid(i._natives.type)),i instanceof n?(i._natives&&(i._id=i.id||i._id||b.guid(i._natives.type),i._natives._setup&&(i._natives._setup.call(this,i),this.emit("tracksetup",b.extend({},i,{plugin:i._natives.type,type:"tracksetup",track:i})))),this.data.trackEvents.add(i),n.start(this,i),this.timeUpdate(this,null,!0),i._id&&b.addTrackEvent.ref(this,i)):b.addTrackEvent(this,i),b.forEach(t,function(e,t){-1===u.indexOf(t)&&this.on(t,e)},this),this};b.p[e]=c[e]=function(r,a){{var u,s,c,d,p;arguments.length}if(r&&!a)a=r,r=null;else{if(u=this.getTrackEvent(r))return p=a,d=o(u,p),u._natives._update?(this.data.trackEvents.remove(u),l.call(a,"start")&&(u.start=a.start),l.call(a,"end")&&(u.end=a.end),n.end(this,u),i&&t.call(this,u),u._natives._update.call(this,u,a),this.data.trackEvents.add(u),n.start(this,u),"cue"!==u._natives.type&&this.emit("trackchange",{id:u.id,type:"trackchange",previousValue:d,currentValue:p,track:u}),this):(b.extend(u,a),this.data.trackEvents.remove(r),u._natives._teardown&&u._natives._teardown.call(this,u),b.removeTrackEvent.ref(this,r),i?f.call(this,t.call(this,u),u):(u._id=u.id||u._id||b.guid(u._natives.type),u._natives&&u._natives._setup&&(u._natives._setup.call(this,u),this.emit("tracksetup",b.extend({},u,{plugin:u._natives.type,type:"tracksetup",track:u}))),this.data.trackEvents.add(u),n.start(this,u),this.timeUpdate(this,null,!0),b.addTrackEvent.ref(this,u)),this.emit("trackchange",{id:u.id,type:"trackchange",previousValue:d,currentValue:u,track:u}),this);a.id=r}return this.data.running[e]=this.data.running[e]||[],s=this.options.defaults&&this.options.defaults[e]||{},c=b.extend({},s,a),f.call(this,i?t.call(this,c):t,c),this},r&&b.extend(t,{manifest:r});var h={fn:c[e],definition:t,base:t,parents:[],name:e};return b.registry.push(b.extend(c,h,{type:e})),b.registryByName[e]=h,c},b.plugin.errors=[],b.plugin.debug="@VERSION"===b.version,b.removePlugin=function(e,t){if(!t){if(t=e,e=b.p,b.protect.natives.indexOf(t.toLowerCase())>=0)return void b.error("'"+t+"' is a protected function name");var n,r=b.registry.length;for(n=0;r>n;n++)if(b.registry[n].name===t)return b.registry.splice(n,1),delete b.registryByName[t],delete b.manifest[t],void delete e[t]}var i,o,a=e.data.trackEvents.byStart,u=e.data.trackEvents.byEnd,s=e.data.trackEvents.animating;for(i=0,o=a.length;o>i;i++)a[i]&&a[i]._natives&&a[i]._natives.type===t&&(a[i]._natives._teardown&&a[i]._natives._teardown.call(e,a[i]),a.splice(i,1),i--,o--,e.data.trackEvents.startIndex<=i&&(e.data.trackEvents.startIndex--,e.data.trackEvents.endIndex--)),u[i]&&u[i]._natives&&u[i]._natives.type===t&&u.splice(i,1);for(i=0,o=s.length;o>i;i++)s[i]&&s[i]._natives&&s[i]._natives.type===t&&(s.splice(i,1),i--,o--)},b.compositions={},b.compose=function(e,t,n){b.manifest[e]=n=n||t.manifest||{},b.compositions[e]=t},b.plugin.effect=b.effect=b.compose;var T=/^(?:\.|#|\[)/;b.dom={debug:!1,find:function(e,n){var r=null;if(n=n||t,e){if(!T.test(e)&&(r=t.getElementById(e),null!==r))return r;try{r=n.querySelector(e)}catch(i){if(b.dom.debug)throw new Error(i)}}return r}};var w=/\?/,S={ajax:null,url:"",data:"",dataType:"",success:b.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};b.xhr=function(e){var t;return e.dataType=e.dataType&&e.dataType.toLowerCase()||null,!e.dataType||"jsonp"!==e.dataType&&"script"!==e.dataType?(t=b.extend({},S,e),t.ajax=new XMLHttpRequest,t.ajax?("GET"===t.type&&t.data&&(t.url+=(w.test(t.url)?"&":"?")+t.data,t.data=null),t.ajax.open(t.type,t.url,t.async),"POST"===t.type&&t.ajax.setRequestHeader("Content-Type",t.contentType),t.ajax.send(t.data||null),b.xhr.httpData(t)):void 0):void b.xhr.getJSONP(e.url,e.success,"script"===e.dataType)},b.xhr.httpData=function(e){var t,n,r=null,i=null;return e.ajax.onreadystatechange=function(){if(4===e.ajax.readyState){try{r=JSON.parse(e.ajax.responseText)}catch(o){}if(t={xml:e.ajax.responseXML,text:e.ajax.responseText,json:r},!t.xml||!t.xml.documentElement){t.xml=null;try{n=new DOMParser,i=n.parseFromString(e.ajax.responseText,"text/xml"),i.getElementsByTagName("parsererror").length||(t.xml=i)}catch(o){}}e.dataType&&(t=t[e.dataType]),e.success.call(e.ajax,t)}},t},b.xhr.getJSONP=function(e,n,r){var i,o,a,u=t.head||t.getElementsByTagName("head")[0]||t.documentElement,s=t.createElement("script"),c=!1,d=[],l=/(=)\?(?=&|$)|\?\?/;r||(a=e.match(/(callback=[^&]*)/),null!==a&&a.length?(i=a[1].split("=")[1],"?"===i&&(i="jsonp"),o=b.guid(i),e=e.replace(/(callback=[^&]*)/,"callback="+o)):(o=b.guid("jsonp"),l.test(e)&&(e=e.replace(l,"$1"+o)),d=e.split(/\?(.+)?/),e=d[0]+"?",d[1]&&(e+=d[1]+"&"),e+="callback="+o),window[o]=function(e){n&&n(e),c=!0}),s.addEventListener("load",function(){r&&n&&n(),c&&delete window[o],u.removeChild(s)},!1),s.addEventListener("error",function(e){n&&n({error:e}),r||delete window[o],u.removeChild(s)},!1),s.src=e,u.insertBefore(s,u.firstChild)},b.getJSONP=b.xhr.getJSONP,b.getScript=b.xhr.getScript=function(e,t){return b.xhr.getJSONP(e,t,!0)},b.util={toSeconds:function(e,t){var n,r,i,o,a,u,s=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,c="Invalid time format";return"number"==typeof e?e:("string"!=typeof e||s.test(e)||b.error(c),n=e.split(":"),r=n.length-1,i=n[r],i.indexOf(";")>-1&&(a=i.split(";"),u=0,t&&"number"==typeof t&&(u=parseFloat(a[1],10)/t),n[r]=parseInt(a[0],10)+u),o=n[0],{1:parseFloat(o,10),2:60*parseInt(o,10)+parseFloat(n[1],10),3:3600*parseInt(o,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},b.p.cue=b.p.exec,b.protect={natives:E(b.p).map(function(e){return e.toLowerCase()})},b.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(e,t){var n=b.p[t];b.p[t]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+t+"', "+(null==e?"do not use.":"use '"+e+"' instead.")),b.p[t]=n),b.p[e].apply(this,[].slice.call(arguments))}}),e.Popcorn=b}else{e.Popcorn={isSupported:!1};for(var P="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);P.length;)e.Popcorn[P.shift()]=function(){}}}(window,window.document),function(e){var t=function(t,n){var r,i=0,o=0;e.forEach(n.classes,function(e,t){for(r=[],"parent"===e?r[0]=document.querySelectorAll("#"+n.target)[0].parentNode:r=document.querySelectorAll("#"+n.target+" "+e),i=0,o=r.length;o>i;i++)r[i].classList.toggle(t)})};e.compose("applyclass",{manifest:{about:{name:"Popcorn applyclass Effect",version:"0.1",author:"@scottdowne",website:"scottdowne.wordpress.com"},options:{}},_setup:function(e){e.classes={},e.applyclass=e.applyclass||"";for(var t=e.applyclass.replace(/\s/g,"").split(","),n=[],r=0,i=t.length;i>r;r++)n=t[r].split(":"),n[0]&&(e.classes[n[0]]=n[1]||"")},start:t,end:t})}(Popcorn),function(e,t){function n(e){var t="string"==typeof e?e:[e.language,e.region].join("-"),n=t.split("-");return{iso6391:t,language:n[0]||"",region:n[1]||""}}var r=e.navigator,i=n(r.userLanguage||r.language);t.locale={get:function(){return i},set:function(e){return i=n(e),t.locale.broadcast(),i},broadcast:function(e){var n,r=t.instances,i=r.length,o=0;for(e=e||"locale:changed";i>o;o++)n=r[o],e in n.data.events&&n.trigger(e)}}}(this,this.Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,r){if(!e[n]){r=r||{};var i=function(n,i,o){o=o||{};var a,u,s=new Date/1e3,c=s,d=0,l=0,p=1,f=!1,h={},v="string"==typeof n?e.dom.find(n):n,y={};Object.prototype.__defineGetter__||(y=v||document.createElement("div"));for(var m in v)m in y||("object"==typeof v[m]?y[m]=v[m]:"function"==typeof v[m]?y[m]=function(e){return"length"in v[e]&&!v[e].call?v[e]:function(){return v[e].apply(v,arguments)}}(m):e.player.defineProperty(y,m,{get:function(e){return function(){return v[e]}}(m),set:e.nop,configurable:!0}));var g=function(){s=new Date/1e3,y.paused||(y.currentTime=y.currentTime+(s-c),y.dispatchEvent("timeupdate"),a=setTimeout(g,10)),c=s
};return y.play=function(){this.paused=!1,y.readyState>=4&&(c=new Date/1e3,y.dispatchEvent("play"),g())},y.pause=function(){this.paused=!0,y.dispatchEvent("pause")},e.player.defineProperty(y,"currentTime",{get:function(){return d},set:function(e){return d=+e,y.dispatchEvent("timeupdate"),d},configurable:!0}),e.player.defineProperty(y,"volume",{get:function(){return p},set:function(e){return p=+e,y.dispatchEvent("volumechange"),p},configurable:!0}),e.player.defineProperty(y,"muted",{get:function(){return f},set:function(e){return f=+e,y.dispatchEvent("volumechange"),f},configurable:!0}),e.player.defineProperty(y,"readyState",{get:function(){return l},set:function(e){return l=e},configurable:!0}),y.addEventListener=function(e,t){return h[e]||(h[e]=[]),h[e].push(t),t},y.removeEventListener=function(e,t){var n,r=h[e];if(r){for(n=h[e].length-1;n>=0;n--)t===r[n]&&r.splice(n,1);return t}},y.dispatchEvent=function(t){var n,r,i=this,o=t.type;if(o||(o=t,r=e.events.getInterface(o),r&&(n=document.createEvent(r),n.initEvent(o,!0,!0,window,1))),h[o])for(var a=h[o].length-1;a>=0;a--)h[o][a].call(i,n,i)},y.src=i||"",y.duration=0,y.paused=!0,y.ended=0,o&&o.events&&e.forEach(o.events,function(e,t){y.addEventListener(t,e,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(y,o):(y.readyState=4,y.dispatchEvent("loadedmetadata"),y.dispatchEvent("loadeddata"),y.dispatchEvent("canplaythrough")):setTimeout(function(){y.dispatchEvent("error")},0),u=new e.p.init(y,o),r._teardown&&(u.destroy=t(u.destroy,function(){r._teardown.call(y,o)})),u};i.canPlayType=r._canPlayType=r._canPlayType||e.nop,e[n]=e.player.registry[n]=i}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,r){t.__defineGetter__(n,r.get||e.nop),t.__defineSetter__(n,r.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,r){var i,o,a,u,s,c,d,l="string"==typeof t?e.dom.find(t):t,p="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!l)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,i=0,d=n.length;d>i;i++){for(o=n[i],a=0;a<p.length;a++)if(s=e[p[a]],s&&"probably"===s._canPlaySrc(o))return u=s(l),c=e(u,r),setTimeout(function(){u.src=o},0),c;for(var f in e.player.registry)if(e.player.registry.hasOwnProperty(f)&&e.player.registry[f].canPlayType(l.nodeName,o))return e[f](l,o,r)}var h,v,y=e.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===n.length)return v=document.createElement("video"),v.id=y,l.appendChild(v),setTimeout(function(){var e=document.createElement("div");e.innerHTML=n[0],v.src=e.firstChild.nodeValue},0),e("#"+y,r);for(l.appendChild(m),h='<video id="'+y+'" preload=auto autobuffer>',i=0,d=n.length;d>i;i++)h+='<source src="'+n[i]+'">';return h+="</video>",m.innerHTML=h,r&&r.events&&r.events.error&&l.addEventListener("error",r.events.error,!1),e("#"+y,r)}}(Popcorn),function(e){document.addEventListener("DOMContentLoaded",function(){var t="data-timeline-sources",n=document.querySelectorAll("["+t+"]");e.forEach(n,function(r,i){var o,a,u,s=n[i];s.id||(s.id=e.guid("__popcorn")),s.nodeType&&1===s.nodeType&&(u=e("#"+s.id),o=(s.getAttribute(t)||"").split(","),o[0]&&e.forEach(o,function(e){a=e.split("!"),1===a.length&&(a=e.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split("."),a[0]="parse"+a[1].toUpperCase(),a[1]=e),o[0]&&u[a[0]]&&u[a[0]](a[1])}),u.autoplay()&&u.play())})},!1)}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){e.parser("parseJSON","JSON",function(t){var n={title:"",remote:"",data:[]},r=t;return e.forEach(r.data,function(e){n.data.push(e)}),n})}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){e.parser("parseSBV",function(e){var t,n={title:"",remote:"",data:[]},r=[],i=0,o=0,a=function(e){var t,n=e.split(":"),r=n.length-1;try{t=60*parseInt(n[r-1],10)+parseFloat(n[r],10),2===r&&(t+=3600*parseInt(n[0],10))}catch(i){throw"Bad cue"}return t},u=function(e,t){var n={};return n[e]=t,n};for(t=e.text.split(/(?:\r\n|\r|\n)/gm),o=t.length;o>i;){var s={},c=[],d=t[i++].split(",");try{for(s.start=a(d[0]),s.end=a(d[1]);o>i&&t[i];)c.push(t[i++]);s.text=c.join("<br />"),r.push(u("subtitle",s))}catch(l){for(;o>i&&t[i];)i++}for(;o>i&&!t[i];)i++}return n.data=r,n})}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){function t(e,t){var n={};return n[e]=t,n}function n(e){var t=e.split(":");try{var n=t[2].split(",");return 1===n.length&&(n=t[2].split(".")),3600*parseFloat(t[0],10)+60*parseFloat(t[1],10)+parseFloat(n[0],10)+parseFloat(n[1],10)/1e3}catch(r){return 0}}function r(e,t){for(var n=t;!e[n];)n++;return n}function i(e){for(var t=e.length-1;t>=0&&!e[t];)t--;return t}e.parser("parseSRT",function(e,o){var a,u,s,c,d,l={title:"",remote:"",data:[]},p=[],f=0,h=0;for(a=e.text.split(/(?:\r\n|\r|\n)/gm),c=i(a)+1,f=0;c>f;f++){for(d={},s=[],f=r(a,f),d.id=parseInt(a[f++],10),u=a[f++].split(/[\t ]*-->[\t ]*/),d.start=n(u[0]),h=u[1].indexOf(" "),-1!==h&&(u[1]=u[1].substr(0,h)),d.end=n(u[1]);c>f&&a[f];)s.push(a[f++]);d.text=s.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),d.text=d.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),d.text=d.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),d.text=d.text.replace(/\\N/gi,"<br />"),o&&o.target&&(d.target=o.target),p.push(t("subtitle",d))}return l.data=p,l})}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){function t(e,t){var i,o=e.substr(10).split(","),a=/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,u=/\\N/gi;if(i={start:n(o[t.start]),end:n(o[t.end])},-1===i.start||-1===i.end)throw"Invalid time";return i.text=r(o,t.text).replace(a,"").replace(u,"<br />"),i}function n(e){var t=e.split(":");return 10!==e.length||t.length<3?-1:3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseFloat(t[2],10)}function r(e,t){for(var n=e.length,r=[],i=t;n>i;i++)r.push(e[i]);return r.join(",")}function i(e,t){var n={};return n[e]=t,n}function o(e){var t,n,r=e.substr(8).split(", "),i={};for(n=0,t=r.length;t>n;n++)"Start"===r[n]?i.start=n:"End"===r[n]?i.end=n:"Text"===r[n]&&(i.text=n);return i}e.parser("parseSSA",function(e){var n,r,a,u={title:"",remote:"",data:[]},s=/(?:\r\n|\r|\n)/gm,c=[],d=0;for(n=e.text.split(s),a=n.length;a>d&&"[Events]"!==n[d];)d++;for(r=o(n[++d]);++d<a&&n[d]&&"["!==n[d][0];)try{c.push(i("subtitle",t(n[d],r)))}catch(l){}return u.data=c,u})}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){function t(e,o,a){for(var u,s=e.firstChild,c=n(e,a),d=[];s;)1===s.nodeType&&("p"===s.nodeName?d.push(r(s,o,c)):"div"===s.nodeName&&(u=i(s.getAttribute("begin")),0>u&&(u=o),d.push.apply(d,t(s,u,c)))),s=s.nextSibling;return d}function n(e,t){var n=e.getAttribute("region");return null!==n?n:t||""}function r(e,t,r){var o={};return o.text=(e.textContent||e.text).replace(u,"").replace(s,"<br />"),o.id=e.getAttribute("xml:id")||e.getAttribute("id"),o.start=i(e.getAttribute("begin"),t),o.end=i(e.getAttribute("end"),t),o.target=n(e,r),o.end<0&&(o.end=i(e.getAttribute("duration"),0),o.end>=0?o.end+=o.start:o.end=Number.MAX_VALUE),{subtitle:o}}function i(t,n){var r;if(!t)return-1;try{return e.util.toSeconds(t)}catch(i){return r=o(t),parseFloat(t.substring(0,r))*a(t.substring(r))+(n||0)}}function o(e){for(var t=e.length-1;t>=0&&e[t]<="9"&&e[t]>="0";)t--;return t}function a(e){return{h:3600,m:60,s:1,ms:.001}[e]||-1}var u=/^[\s]+|[\s]+$/gm,s=/(?:\r\n|\r|\n)/gm;e.parser("parseTTML",function(e){var n,r={title:"",remote:"",data:[]};if(!e.xml||!e.xml.documentElement)return r;if(n=e.xml.documentElement.firstChild,!n)return r;for(;"body"!==n.nodeName;)n=n.nextSibling;return n&&(r.data=t(n,0)),r})}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){e.parser("parseTTXT",function(e){for(var t={title:"",remote:"",data:[]},n=function(e){var t=e.split(":"),n=0;try{return 60*parseFloat(t[0],10)*60+60*parseFloat(t[1],10)+parseFloat(t[2],10)}catch(r){n=0}return n},r=function(e,t){var n={};return n[e]=t,n},i=e.xml.lastChild.lastChild,o=Number.MAX_VALUE,a=[];i;){if(1===i.nodeType&&"TextSample"===i.nodeName){var u={};u.start=n(i.getAttribute("sampleTime")),u.text=i.getAttribute("text"),u.text&&(u.end=o-.001,a.push(r("subtitle",u))),o=u.start}i=i.previousSibling}return t.data=a.reverse(),t})}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){function t(e){var t,n=e.split(":"),r=e.length;if(12!==r&&9!==r)throw"Bad cue";r=n.length-1;try{t=60*parseInt(n[r-1],10)+parseFloat(n[r],10),2===r&&(t+=3600*parseInt(n[0],10))}catch(i){throw"Bad cue"}return t}function n(e,t){var n={};return n[e]=t,n}function r(e){var n,r={},i=/-->/,o=/[\t ]+/;if(!e||-1===e.indexOf("-->"))throw"Bad cue";if(n=e.replace(i," --> ").split(o),n.length<2)throw"Bad cue";return r.id=e,r.start=t(n[0]),r.end=t(n[2]),r}function i(e,t,n){for(;t>n&&!e[n];)n++;return n}function o(e,t,n){for(;t>n&&e[n];)n++;return n}e.parser("parseVTT",function(e){var t,a,u,s={title:"",remote:"",data:[]},c=[],d=0,l=0,p=/(?:\r\n|\r|\n)/gm;if(t=e.text.split(p),l=t.length,0===l||"WEBVTT"!==t[0])return s;for(d++;l>d;){a=[];try{for(d=i(t,l,d),u=r(t[d++]);l>d&&t[d];)a.push(t[d++]);u.text=a.join("<br />"),c.push(n("subtitle",u))}catch(f){d=o(t,l,d)}}return s.data=c,s})}(Popcorn),function(e){{var t=Array.prototype,n=Object.prototype,r=(t.forEach,t.slice,n.hasOwnProperty);n.toString}e.parsers={},e.parser=function(t,n,i){if(e.protect.natives.indexOf(t.toLowerCase())>=0)return void e.error("'"+t+"' is a protected function name");if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var o,a=(e.events.all,{});return o=function(t,o,a){if(!t)return this;"function"==typeof o||a||(a=o,o=null);var u=this;return e.xhr({url:t,dataType:n,success:function(e){var t,n,s,c=i(e,a),d=0;if(t=c.data||[],n=t.length,s=null,n){for(;n>d;d++){s=t[d];for(var l in s)r.call(s,l)&&u[l]&&u[l](s[l])}o&&o()}}}),this},a[t]=o,e.extend(e.p,a),a}}}(Popcorn),function(e){e.parser("parseXML","XML",function(t){for(var n={title:"",remote:"",data:[]},r={},i=function(e){var t=e.split(":");return 1===t.length?parseFloat(t[0],10):2===t.length?parseFloat(t[0],10)+parseFloat(t[1]/12,10):3===t.length?parseInt(60*t[0],10)+parseFloat(t[1],10)+parseFloat(t[2]/12,10):4===t.length?parseInt(3600*t[0],10)+parseInt(60*t[1],10)+parseFloat(t[2],10)+parseFloat(t[3]/12,10):void 0},o=function(e){for(var t={},n=0,o=e.length;o>n;n++){var a=e.item(n).nodeName,u=e.item(n).nodeValue,s=r[u];if("in"===a)t.start=i(u);else if("out"===a)t.end=i(u);else if("resourceid"===a)for(var c in s)s.hasOwnProperty(c)&&(t[c]||"id"===c||(t[c]=s[c]));else t[a]=u}return t},a=function(e,t){var n={};return n[e]=t,n},u=function(t,i,s){var c={};e.extend(c,i,o(t.attributes),{text:t.textContent||t.text});var d=t.childNodes;if(d.length<1||1===d.length&&3===d[0].nodeType)s?r[c.id]=c:n.data.push(a(t.nodeName,c));else for(var l=0;l<d.length;l++)1===d[l].nodeType&&u(d[l],c,s)},s=t.documentElement.childNodes,c=0,d=s.length;d>c;c++)1===s[c].nodeType&&("manifest"===s[c].nodeName?u(s[c],{},!0):u(s[c],{},!1));return n})}(Popcorn),function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,r){if(!e[n]){r=r||{};var i=function(n,i,o){o=o||{};var a,u,s=new Date/1e3,c=s,d=0,l=0,p=1,f=!1,h={},v="string"==typeof n?e.dom.find(n):n,y={};Object.prototype.__defineGetter__||(y=v||document.createElement("div"));for(var m in v)m in y||("object"==typeof v[m]?y[m]=v[m]:"function"==typeof v[m]?y[m]=function(e){return"length"in v[e]&&!v[e].call?v[e]:function(){return v[e].apply(v,arguments)}}(m):e.player.defineProperty(y,m,{get:function(e){return function(){return v[e]}}(m),set:e.nop,configurable:!0}));var g=function(){s=new Date/1e3,y.paused||(y.currentTime=y.currentTime+(s-c),y.dispatchEvent("timeupdate"),a=setTimeout(g,10)),c=s};return y.play=function(){this.paused=!1,y.readyState>=4&&(c=new Date/1e3,y.dispatchEvent("play"),g())},y.pause=function(){this.paused=!0,y.dispatchEvent("pause")},e.player.defineProperty(y,"currentTime",{get:function(){return d},set:function(e){return d=+e,y.dispatchEvent("timeupdate"),d},configurable:!0}),e.player.defineProperty(y,"volume",{get:function(){return p},set:function(e){return p=+e,y.dispatchEvent("volumechange"),p},configurable:!0}),e.player.defineProperty(y,"muted",{get:function(){return f},set:function(e){return f=+e,y.dispatchEvent("volumechange"),f},configurable:!0}),e.player.defineProperty(y,"readyState",{get:function(){return l},set:function(e){return l=e},configurable:!0}),y.addEventListener=function(e,t){return h[e]||(h[e]=[]),h[e].push(t),t},y.removeEventListener=function(e,t){var n,r=h[e];if(r){for(n=h[e].length-1;n>=0;n--)t===r[n]&&r.splice(n,1);return t}},y.dispatchEvent=function(t){var n,r,i=this,o=t.type;if(o||(o=t,r=e.events.getInterface(o),r&&(n=document.createEvent(r),n.initEvent(o,!0,!0,window,1))),h[o])for(var a=h[o].length-1;a>=0;a--)h[o][a].call(i,n,i)},y.src=i||"",y.duration=0,y.paused=!0,y.ended=0,o&&o.events&&e.forEach(o.events,function(e,t){y.addEventListener(t,e,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(y,o):(y.readyState=4,y.dispatchEvent("loadedmetadata"),y.dispatchEvent("loadeddata"),y.dispatchEvent("canplaythrough")):setTimeout(function(){y.dispatchEvent("error")},0),u=new e.p.init(y,o),r._teardown&&(u.destroy=t(u.destroy,function(){r._teardown.call(y,o)})),u};i.canPlayType=r._canPlayType=r._canPlayType||e.nop,e[n]=e.player.registry[n]=i}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,r){t.__defineGetter__(n,r.get||e.nop),t.__defineSetter__(n,r.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,r){var i,o,a,u,s,c,d,l="string"==typeof t?e.dom.find(t):t,p="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!l)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,i=0,d=n.length;d>i;i++){for(o=n[i],a=0;a<p.length;a++)if(s=e[p[a]],s&&"probably"===s._canPlaySrc(o))return u=s(l),c=e(u,r),setTimeout(function(){u.src=o},0),c;for(var f in e.player.registry)if(e.player.registry.hasOwnProperty(f)&&e.player.registry[f].canPlayType(l.nodeName,o))return e[f](l,o,r)}var h,v,y=e.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===n.length)return v=document.createElement("video"),v.id=y,l.appendChild(v),setTimeout(function(){var e=document.createElement("div");e.innerHTML=n[0],v.src=e.firstChild.nodeValue},0),e("#"+y,r);for(l.appendChild(m),h='<video id="'+y+'" preload=auto autobuffer>',i=0,d=n.length;d>i;i++)h+='<source src="'+n[i]+'">';return h+="</video>",m.innerHTML=h,r&&r.events&&r.events.error&&l.addEventListener("error",r.events.error,!1),e("#"+y,r)}}(Popcorn),function(e,t){t.player("vimeo",{_canPlayType:function(e,n){return"string"==typeof n&&t.HTMLVimeoVideoElement._canPlaySrc(n)}}),t.vimeo=function(e,n,r){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'vimeo'. Please use Popcorn.HTMLVimeoVideoElement directly.");var i=t.HTMLVimeoVideoElement(e),o=t(i,r);return setTimeout(function(){i.src=n},0),o}}(window,Popcorn),function(e){var t=function(t,n){return t=t||e.nop,n=n||e.nop,function(){t.apply(this,arguments),n.apply(this,arguments)}};e.player=function(n,r){if(!e[n]){r=r||{};var i=function(n,i,o){o=o||{};var a,u,s=new Date/1e3,c=s,d=0,l=0,p=1,f=!1,h={},v="string"==typeof n?e.dom.find(n):n,y={};Object.prototype.__defineGetter__||(y=v||document.createElement("div"));for(var m in v)m in y||("object"==typeof v[m]?y[m]=v[m]:"function"==typeof v[m]?y[m]=function(e){return"length"in v[e]&&!v[e].call?v[e]:function(){return v[e].apply(v,arguments)}}(m):e.player.defineProperty(y,m,{get:function(e){return function(){return v[e]}}(m),set:e.nop,configurable:!0}));var g=function(){s=new Date/1e3,y.paused||(y.currentTime=y.currentTime+(s-c),y.dispatchEvent("timeupdate"),a=setTimeout(g,10)),c=s};return y.play=function(){this.paused=!1,y.readyState>=4&&(c=new Date/1e3,y.dispatchEvent("play"),g())},y.pause=function(){this.paused=!0,y.dispatchEvent("pause")},e.player.defineProperty(y,"currentTime",{get:function(){return d},set:function(e){return d=+e,y.dispatchEvent("timeupdate"),d},configurable:!0}),e.player.defineProperty(y,"volume",{get:function(){return p},set:function(e){return p=+e,y.dispatchEvent("volumechange"),p},configurable:!0}),e.player.defineProperty(y,"muted",{get:function(){return f},set:function(e){return f=+e,y.dispatchEvent("volumechange"),f},configurable:!0}),e.player.defineProperty(y,"readyState",{get:function(){return l},set:function(e){return l=e},configurable:!0}),y.addEventListener=function(e,t){return h[e]||(h[e]=[]),h[e].push(t),t},y.removeEventListener=function(e,t){var n,r=h[e];if(r){for(n=h[e].length-1;n>=0;n--)t===r[n]&&r.splice(n,1);return t}},y.dispatchEvent=function(t){var n,r,i=this,o=t.type;if(o||(o=t,r=e.events.getInterface(o),r&&(n=document.createEvent(r),n.initEvent(o,!0,!0,window,1))),h[o])for(var a=h[o].length-1;a>=0;a--)h[o][a].call(i,n,i)},y.src=i||"",y.duration=0,y.paused=!0,y.ended=0,o&&o.events&&e.forEach(o.events,function(e,t){y.addEventListener(t,e,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(y,o):(y.readyState=4,y.dispatchEvent("loadedmetadata"),y.dispatchEvent("loadeddata"),y.dispatchEvent("canplaythrough")):setTimeout(function(){y.dispatchEvent("error")},0),u=new e.p.init(y,o),r._teardown&&(u.destroy=t(u.destroy,function(){r._teardown.call(y,o)})),u};i.canPlayType=r._canPlayType=r._canPlayType||e.nop,e[n]=e.player.registry[n]=i}},e.player.registry={},e.player.defineProperty=Object.defineProperty||function(t,n,r){t.__defineGetter__(n,r.get||e.nop),t.__defineSetter__(n,r.set||e.nop)},e.player.playerQueue=function(){var e=[],t=!1;return{next:function(){t=!1,e.shift(),e[0]&&e[0]()},add:function(n){e.push(function(){t=!0,n&&n()}),!t&&e[0]()}}},e.smart=function(t,n,r){var i,o,a,u,s,c,d,l="string"==typeof t?e.dom.find(t):t,p="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!l)return void e.error("Specified target `"+t+"` was not found.");for(n="string"==typeof n?[n]:n,i=0,d=n.length;d>i;i++){for(o=n[i],a=0;a<p.length;a++)if(s=e[p[a]],s&&"probably"===s._canPlaySrc(o))return u=s(l),c=e(u,r),setTimeout(function(){u.src=o},0),c;for(var f in e.player.registry)if(e.player.registry.hasOwnProperty(f)&&e.player.registry[f].canPlayType(l.nodeName,o))return e[f](l,o,r)}var h,v,y=e.guid("popcorn-video-"),m=document.createElement("div");if(m.style.width="100%",m.style.height="100%",1===n.length)return v=document.createElement("video"),v.id=y,l.appendChild(v),setTimeout(function(){var e=document.createElement("div");e.innerHTML=n[0],v.src=e.firstChild.nodeValue},0),e("#"+y,r);for(l.appendChild(m),h='<video id="'+y+'" preload=auto autobuffer>',i=0,d=n.length;d>i;i++)h+='<source src="'+n[i]+'">';return h+="</video>",m.innerHTML=h,r&&r.events&&r.events.error&&l.addEventListener("error",r.events.error,!1),e("#"+y,r)}}(Popcorn),function(e,t){var n=function(e,n){return"string"==typeof n&&t.HTMLYouTubeVideoElement._canPlaySrc(n)};t.player("youtube",{_canPlayType:n}),t.youtube=function(e,n,r){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'youtube'. Please use Popcorn.HTMLYouTubeVideoElement directly.");var i=t.HTMLYouTubeVideoElement(e),o=t(i,r);return setTimeout(function(){i.src=n},0),o},t.youtube.canPlayType=n}(window,Popcorn),function(e){e.plugin("code",function(t){var n=!1,r=this,i=function(){var e=function(e){return function(t,i){var o=function(){n&&t.call(r,i),n&&e(o)};o()}};return e(window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:function(e){window.setTimeout(e,16)})}();return t.onStart&&"function"==typeof t.onStart||(t.onStart=e.nop),t.onEnd&&"function"!=typeof t.onEnd&&(t.onEnd=void 0),t.onFrame&&"function"!=typeof t.onFrame&&(t.onFrame=void 0),{start:function(e,t){t.onStart.call(r,t),t.onFrame&&(n=!0,i(t.onFrame,t))},end:function(e,t){t.onFrame&&(n=!1),t.onEnd&&t.onEnd.call(r,t)}}},{about:{name:"Popcorn Code Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},onStart:{elem:"input",type:"function",label:"onStart"},onFrame:{elem:"input",type:"function",label:"onFrame",optional:!0},onEnd:{elem:"input",type:"function",label:"onEnd"}}})}(Popcorn),function(e){e.plugin("footnote",{manifest:{about:{name:"Popcorn Footnote Plugin",version:"0.2",author:"@annasob, @rwaldron",website:"annasob.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text"},target:"footnote-container"}},_setup:function(t){var n=e.dom.find(t.target);t._container=document.createElement("div"),t._container.style.display="none",t._container.innerHTML=t.text,n.appendChild(t._container)},start:function(e,t){t._container.style.display="inline"},end:function(e,t){t._container.style.display="none"},_teardown:function(t){var n=e.dom.find(t.target);n&&n.removeChild(t._container)}})}(Popcorn),function(e){function t(e){function t(){var t=e.getBoundingClientRect(),n=o.getBoundingClientRect();n.left!==t.left&&(o.style.left=t.left+"px"),n.top!==t.top&&(o.style.top=t.top+"px")}var i=-1,o=document.createElement("div"),a=getComputedStyle(e).zIndex;return o.setAttribute("data-popcorn-helper-container",!0),o.style.position="absolute",o.style.zIndex=isNaN(a)?n:a+1,document.body.appendChild(o),{element:o,start:function(){i=setInterval(t,r)},stop:function(){clearInterval(i),i=-1},destroy:function(){document.body.removeChild(o),-1!==i&&clearInterval(i)}}}var n=2e3,r=10;e.plugin("image",{manifest:{about:{name:"Popcorn image Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Image URL","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png"},href:{elem:"input",type:"url",label:"Link","default":"http://mozillapopcorn.org/wp-content/themes/popcorn/images/for_developers.png",optional:!0},target:"image-container",text:{elem:"input",type:"text",label:"Caption","default":"Popcorn.js",optional:!0}}},_setup:function(n){var r=document.createElement("img"),i=document.getElementById(n.target);n.anchor=document.createElement("a"),n.anchor.style.position="relative",n.anchor.style.textDecoration="none",n.anchor.style.display="none",i&&(["VIDEO","AUDIO"].indexOf(i.nodeName)>-1?(n.trackedContainer=t(i),n.trackedContainer.element.appendChild(n.anchor)):i&&i.appendChild(n.anchor)),r.addEventListener("load",function(){r.style.borderStyle="none",n.anchor.href=n.href||n.src||"#",n.anchor.target="_blank";var t,o;r.style.height=i.style.height,r.style.width=i.style.width,n.anchor.appendChild(r),n.text&&(t=r.height/12+"px",o=document.createElement("div"),e.extend(o.style,{color:"black",fontSize:t,fontWeight:"bold",position:"relative",textAlign:"center",width:r.style.width||r.width+"px",zIndex:"10"}),o.innerHTML=n.text||"",o.style.top=(r.style.height.replace("px","")||r.height)/2-o.offsetHeight/2+"px",n.anchor.insertBefore(o,r))},!1),r.src=n.src,n.toString=function(){var e=n.src||n._natives.manifest.options.src["default"],t=e.replace(/.*\//g,"");return t.length?t:e}},start:function(e,t){t.anchor.style.display="inline",t.trackedContainer&&t.trackedContainer.start()},end:function(e,t){t.anchor.style.display="none",t.trackedContainer&&t.trackedContainer.stop()},_teardown:function(e){e.trackedContainer?e.trackedContainer.destroy():e.anchor.parentNode&&e.anchor.parentNode.removeChild(e.anchor)}})}(Popcorn),function(e){var t,n="http://popcornjs.org/code/modules/player/popcorn.player.js",r=/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu|vimeo|soundcloud|baseplayer)/,i={},o={vimeo:!1,youtube:!1,soundcloud:!1,module:!1};Object.defineProperty(i,t,{get:function(){return o[t]},set:function(e){o[t]=e}}),e.plugin("mediaspawner",{manifest:{about:{name:"Popcorn Media Spawner Plugin",version:"0.1",author:"Matthew Schranz, @mjschranz",website:"mschranz.wordpress.com"},options:{source:{elem:"input",type:"text",label:"Media Source","default":"http://www.youtube.com/watch?v=CXDstfD9eJ0"},caption:{elem:"input",type:"text",label:"Media Caption","default":"Popcorn Popping",optional:!0},target:"mediaspawner-container",start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},autoplay:{elem:"input",type:"checkbox",label:"Autoplay Video",optional:!0},width:{elem:"input",type:"number",label:"Media Width","default":400,units:"px",optional:!0},height:{elem:"input",type:"number",label:"Media Height","default":200,units:"px",optional:!0}}},_setup:function(t){function o(){function n(){"HTML5"===u||window.Popcorn[u]?(t.id=t._container.id,t._container.style.width=t.width+"px",t._container.style.height=t.height+"px",t.popcorn=e.smart("#"+t.id,t.source),"HTML5"===u&&t.popcorn.controls(!0),t._container.style.width="0px",t._container.style.height="0px",t._container.style.visibility="hidden",t._container.style.overflow="hidden"):setTimeout(function(){n()},300)}"HTML5"===u||window.Popcorn[u]||i[u]?n():(i[u]=!0,e.getScript("http://popcornjs.org/code/players/"+u+"/popcorn."+u+".js",function(){n()}))}function a(){window.Popcorn.player?o():setTimeout(function(){a()},300)}var u,s,c,d,l=document.getElementById(t.target)||{};d=r.exec(t.source),d?(u=d[1],"youtu"===u&&(u="youtube")):u="HTML5",t._type=u,t._container=document.createElement("div"),s=t._container,s.id="mediaSpawnerdiv-"+e.guid(),t.width=t.width||400,t.height=t.height||200,t.caption&&(c=document.createElement("div"),c.innerHTML=t.caption,c.style.display="none",t._capCont=c,s.appendChild(c)),l&&l.appendChild(s),window.Popcorn.player||i.module?a():(i.module=!0,e.getScript(n,a)),t.toString=function(){return t.source||t._natives.manifest.options.source["default"]}},start:function(e,t){t._capCont&&(t._capCont.style.display=""),t._container.style.width=t.width+"px",t._container.style.height=t.height+"px",t._container.style.visibility="visible",t._container.style.overflow="visible",t.autoplay&&t.popcorn.play()},end:function(e,t){t._capCont&&(t._capCont.style.display="none"),t._container.style.width="0px",t._container.style.height="0px",t._container.style.visibility="hidden",t._container.style.overflow="hidden",t.popcorn.pause()},_teardown:function(e){e.popcorn&&e.popcorn.destory&&e.popcorn.destroy(),document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e._container)}})}(Popcorn,this),function(e){e.plugin("mustache",function(t){var n,r,i,o;e.getScript("http://mustache.github.com/extras/mustache.js");var a=!!t.dynamic,u=typeof t.template,s=typeof t.data,c=document.getElementById(t.target);return t.container=c||document.createElement("div"),"function"===u?a?i=t.template:o=t.template(t):o="string"===u?t.template:"","function"===s?a?n=t.data:r=t.data(t):r="string"===s?JSON.parse(t.data):"object"===s?t.data:"",{start:function(e,t){var a=function(){if(window.Mustache){n&&(r=n(t)),i&&(o=i(t));
var e=Mustache.to_html(o,r).replace(/^\s*/gm,"");t.container.innerHTML=e}else setTimeout(function(){a()},10)};a()},end:function(e,t){t.container.innerHTML=""},_teardown:function(){n=r=i=o=null}}},{about:{name:"Popcorn Mustache Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"mustache-container",template:{elem:"input",type:"text",label:"Template"},data:{elem:"input",type:"text",label:"Data"},dynamic:{elem:"input",type:"checkbox",label:"Dynamic","default":!0}}})}(Popcorn),document.addEventListener("click",function(e){var t=e.target;("A"===t.nodeName||t.parentNode&&"A"===t.parentNode.nodeName)&&Popcorn.instances.forEach(function(e){e.options.pauseOnLinkClicked&&e.pause()})},!1),function(e){var t=0,n=function(t,n){var r=t.container=document.createElement("div"),i=r.style,o=t.media,a=function(){var e=t.position();i.fontSize="18px",i.width=o.offsetWidth+"px",i.top=e.top+o.offsetHeight-r.offsetHeight-40+"px",i.left=e.left+"px",setTimeout(a,10)};return r.id=n||e.guid(),i.position="absolute",i.color="white",i.textShadow="black 2px 2px 6px",i.fontWeight="bold",i.textAlign="center",a(),t.media.parentNode.appendChild(r),r};e.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(e){var r=document.createElement("div");r.id="subtitle-"+t++,r.style.display="none",!this.container&&(!e.target||"subtitle-container"===e.target)&&n(this),e.container=e.target&&"subtitle-container"!==e.target?document.getElementById(e.target)||n(this,e.target):this.container,document.getElementById(e.container.id)&&document.getElementById(e.container.id).appendChild(r),e.innerContainer=r,e.showSubtitle=function(){e.innerContainer.innerHTML=e.text||""}},start:function(e,t){t.innerContainer.style.display="inline",t.showSubtitle(t,t.text)},end:function(e,t){t.innerContainer.style.display="none",t.innerContainer.innerHTML=""},_teardown:function(e){e.container.removeChild(e.innerContainer)}})}(Popcorn),function(e){function t(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return i[e]||e})}function n(e){return e.replace(/\r?\n/gm,"<br>")}function r(e,t){var n=e.container=document.createElement("div"),r=n.style,i=e.media,o=function(){var t=e.position();r.fontSize="18px",r.width=i.offsetWidth+"px",r.top=t.top+i.offsetHeight-n.offsetHeight-40+"px",r.left=t.left+"px",setTimeout(o,10)};return n.id=t||"",r.position="absolute",r.color="white",r.textShadow="black 2px 2px 6px",r.fontWeight="bold",r.textAlign="center",o(),e.media.parentNode.appendChild(n),n}var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};e.plugin("text",{manifest:{about:{name:"Popcorn Text Plugin",version:"0.1",author:"@humphd"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},escape:{elem:"input",type:"checkbox",label:"Escape"},multiline:{elem:"input",type:"checkbox",label:"Multiline"}}},_setup:function(i){var o,a,u=i._container=document.createElement("div");u.style.display="none",i.target?(o=e.dom.find(i.target),o?["VIDEO","AUDIO"].indexOf(o.nodeName)>-1&&(o=r(this,i.target+"-overlay")):o=r(this,i.target)):o=this.container?this.container:r(this),i._target=o,a=i.escape?t(i.text):i.text,a=i.multiline?n(a):a,u.innerHTML=a||"",o.appendChild(u),i.toString=function(){return i.text||i._natives.manifest.options.text["default"]}},start:function(e,t){t._container.style.display="inline"},end:function(e,t){t._container.style.display="none"},_teardown:function(e){var t=e._target;t&&t.removeChild(e._container)}})}(Popcorn),function(e){var t=1;e.plugin("timeline",function(e){var n,r=document.getElementById(e.target),i=document.createElement("div"),o=!0;return r&&!r.firstChild?(r.appendChild(n=document.createElement("div")),n.style.width="inherit",n.style.height="inherit",n.style.overflow="auto"):n=r.firstChild,i.style.display="none",i.id="timelineDiv"+t,e.direction=e.direction||"up","down"===e.direction.toLowerCase()&&(o=!1),r&&n&&(o?n.insertBefore(i,n.firstChild):n.appendChild(i)),t++,i.innerHTML="<p><span id='big' style='font-size:24px; line-height: 130%;' >"+e.title+"</span><br /><span id='mid' style='font-size: 16px;'>"+e.text+"</span><br />"+e.innerHTML,{start:function(e,t){i.style.display="block","down"===t.direction&&(n.scrollTop=n.scrollHeight)},end:function(){i.style.display="none"},_teardown:function(){n&&i&&n.removeChild(i)&&!n.firstChild&&r.removeChild(n)}}},{about:{name:"Popcorn Timeline Plugin",version:"0.1",author:"David Seifried @dcseifried",website:"dseifried.wordpress.com"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"feed-container",title:{elem:"input",type:"text",label:"Title"},text:{elem:"input",type:"text",label:"Text"},innerHTML:{elem:"input",type:"text",label:"HTML Code",optional:!0},direction:{elem:"select",options:["DOWN","UP"],label:"Direction",optional:!0}}})}(Popcorn),function(e){e.plugin("webpage",{manifest:{about:{name:"Popcorn Webpage Plugin",version:"0.1",author:"@annasob",website:"annasob.wordpress.com"},options:{id:{elem:"input",type:"text",label:"Id",optional:!0},start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},src:{elem:"input",type:"url",label:"Webpage URL","default":"http://mozillapopcorn.org"},target:"iframe-container"}},_setup:function(e){var t=document.getElementById(e.target);e.src=e.src.replace(/^(https?:)?(\/\/)?/,"//"),e._iframe=document.createElement("iframe"),e._iframe.setAttribute("width","100%"),e._iframe.setAttribute("height","100%"),e._iframe.id=e.id,e._iframe.src=e.src,e._iframe.style.display="none",t&&t.appendChild(e._iframe)},start:function(e,t){t._iframe.src=t.src,t._iframe.style.display="inline"},end:function(e,t){t._iframe.style.display="none"},_teardown:function(e){document.getElementById(e.target)&&document.getElementById(e.target).removeChild(e._iframe)}})}(Popcorn),function(e){var t,n={},r=0,i=function(e){n[e]=document.createElement("div");var t=document.getElementById(e);return t&&t.appendChild(n[e]),n[e].style.height="100%",n[e].style.position="relative",n[e]},o=document.createElement("span"),a=["webkit","Moz","ms","O",""],u=["Transform","TransitionDuration","TransitionTimingFunction"],s={};document.getElementsByTagName("head")[0].appendChild(o);for(var c=0,d=u.length;d>c;c++)for(var l=0,p=a.length;p>l;l++)if(t=a[l]+u[c],t in o.style){s[u[c].toLowerCase()]=t;break}document.getElementsByTagName("head")[0].appendChild(o),e.plugin("wordriver",{manifest:{about:{name:"Popcorn WordRiver Plugin"},options:{start:{elem:"input",type:"number",label:"Start"},end:{elem:"input",type:"number",label:"End"},target:"wordriver-container",text:{elem:"input",type:"text",label:"Text","default":"Popcorn.js"},color:{elem:"input",type:"text",label:"Color","default":"Green",optional:!0}}},_setup:function(e){e._duration=e.end-e.start,e._container=n[e.target]||i(e.target),e.word=document.createElement("span"),e.word.style.position="absolute",e.word.style.whiteSpace="nowrap",e.word.style.opacity=0,e.word.style.MozTransitionProperty="opacity, -moz-transform",e.word.style.webkitTransitionProperty="opacity, -webkit-transform",e.word.style.OTransitionProperty="opacity, -o-transform",e.word.style.transitionProperty="opacity, transform",e.word.style[s.transitionduration]="1s, "+e._duration+"s",e.word.style[s.transitiontimingfunction]="linear",e.word.innerHTML=e.text,e.word.style.color=e.color||"black"},start:function(e,t){t._container.appendChild(t.word),t.word.style[s.transform]="",t.word.style.fontSize=~~(30+20*Math.random())+"px",r%=t._container.offsetWidth-t.word.offsetWidth,t.word.style.left=r+"px",r+=t.word.offsetWidth+10,t.word.style[s.transform]="translateY("+(t._container.offsetHeight-t.word.offsetHeight)+"px)",t.word.style.opacity=1,setTimeout(function(){t.word.style.opacity=0},1e3*(t.end-t.start-1||1))},end:function(e,t){t.word.style.opacity=0},_teardown:function(e){var t=document.getElementById(e.target);e.word.parentNode&&e._container.removeChild(e.word),n[e.target]&&!n[e.target].childElementCount&&t&&t.removeChild(n[e.target])&&delete n[e.target]}})}(Popcorn),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){var r,o={};return Object.prototype.__defineGetter__||(o=t.createElement("div")),o._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},o.addEventListener=function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},o.removeEventListener=function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},o.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},o.load=e.nop,o.canPlayType=function(){return""},o.getBoundingClientRect=function(){return r.getBoundingClientRect()},o.NETWORK_EMPTY=0,o.NETWORK_IDLE=1,o.NETWORK_LOADING=2,o.NETWORK_NO_SOURCE=3,o.HAVE_NOTHING=0,o.HAVE_METADATA=1,o.HAVE_CURRENT_DATA=2,o.HAVE_FUTURE_DATA=3,o.HAVE_ENOUGH_DATA=4,Object.defineProperties(o,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(e){r=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),o}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=r}(Popcorn,window.document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){var r,o={};return Object.prototype.__defineGetter__||(o=t.createElement("div")),o._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},o.addEventListener=function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},o.removeEventListener=function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},o.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},o.load=e.nop,o.canPlayType=function(){return""},o.getBoundingClientRect=function(){return r.getBoundingClientRect()},o.NETWORK_EMPTY=0,o.NETWORK_IDLE=1,o.NETWORK_LOADING=2,o.NETWORK_NO_SOURCE=3,o.HAVE_NOTHING=0,o.HAVE_METADATA=1,o.HAVE_CURRENT_DATA=2,o.HAVE_FUTURE_DATA=3,o.HAVE_ENOUGH_DATA=4,Object.defineProperties(o,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(e){r=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),o}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=r}(Popcorn,window.document),function(e,t){function n(){return"maybe"}function r(e,r){var i="string"==typeof e?t.querySelector(e):e,o=t.createElement(r);return i.appendChild(o),o._canPlaySrc=n,o}e.HTMLVideoElement=function(e){return r(e,"video")},e.HTMLVideoElement._canPlaySrc=n,e.HTMLAudioElement=function(e){return r(e,"audio")},e.HTMLAudioElement._canPlaySrc=n}(Popcorn,window.document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){var r,o={};return Object.prototype.__defineGetter__||(o=t.createElement("div")),o._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},o.addEventListener=function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},o.removeEventListener=function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},o.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},o.load=e.nop,o.canPlayType=function(){return""},o.getBoundingClientRect=function(){return r.getBoundingClientRect()},o.NETWORK_EMPTY=0,o.NETWORK_IDLE=1,o.NETWORK_LOADING=2,o.NETWORK_NO_SOURCE=3,o.HAVE_NOTHING=0,o.HAVE_METADATA=1,o.HAVE_CURRENT_DATA=2,o.HAVE_FUTURE_DATA=3,o.HAVE_ENOUGH_DATA=4,Object.defineProperties(o,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(e){r=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),o}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=r}(Popcorn,window.document),function(e,t){function n(t){this.startTime=0,this.currentTime=t.currentTime||0,this.duration=t.duration||0/0,this.playInterval=null,this.paused=!0,this.defaultPlaybackRate=1,this.playbackRate=1,this.ended=t.endedCallback||e.nop}function r(e){e.currentTime+=(Date.now()-e.startTime)/(1e3/e.playbackRate),e.startTime=Date.now(),e.currentTime>=e.duration&&(e.pause(e.duration),e.ended()),e.currentTime<0&&e.pause(0)}function i(r){function i(e){x.push(e)}function o(){var e;for(N=!0,M.networkState=P.NETWORK_IDLE,M.readyState=P.HAVE_METADATA,P.dispatchEvent("loadedmetadata"),P.dispatchEvent("loadeddata"),M.readyState=P.HAVE_FUTURE_DATA,P.dispatchEvent("canplay"),M.readyState=P.HAVE_ENOUGH_DATA,P.dispatchEvent("canplaythrough");x.length;)(e=x.shift())();M.autoplay&&P.play()}function s(){return w?w.duration:0/0}function c(){N&&w&&(w.pause(),w=null,k.removeChild(A),A=t.createElement("div"))}function d(e){if(!P._canPlaySrc(e))return M.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void P.dispatchEvent("error");M.src=e,N&&c(),A.width=M.width,A.height=M.height,k.appendChild(A);var t=u.exec(e),r=+t[1],i=+t[2];w=new n({currentTime:r,duration:i,endedCallback:g}),P.dispatchEvent("loadstart"),P.dispatchEvent("progress"),P.dispatchEvent("durationchange"),o()}function l(){return N?w.currentTime:0}function p(e){if(e!==l()){if(!N)return void i(function(){p(e)});h(),w.seekTo(e),v()}}function f(){P.dispatchEvent("timeupdate")}function h(){M.seeking=!0,P.dispatchEvent("seeking")}function v(){M.ended=!1,M.seeking=!1,P.dispatchEvent("timeupdate"),P.dispatchEvent("seeked"),P.dispatchEvent("canplay"),P.dispatchEvent("canplaythrough")}function y(){1===M.paused?(M.paused=!1,P.dispatchEvent("play"),P.dispatchEvent("playing")):(M.ended&&(p(0),M.ended=!1),M.paused&&(M.paused=!1,M.loop||P.dispatchEvent("play"),P.dispatchEvent("playing"))),S=setInterval(f,P._util.TIMEUPDATE_MS)}function m(){M.paused=!0,clearInterval(S),P.dispatchEvent("pause")}function g(){M.loop?(p(0),P.play()):(M.ended=!0,m(),P.dispatchEvent("timeupdate"),P.dispatchEvent("ended"))}function E(e){M.volume=e,P.dispatchEvent("volumechange")}function _(){return M.volume}function b(e){M.muted=e,P.dispatchEvent("volumechange")}function T(){return M.muted}var w,S,P=new e._MediaElementProto,k="string"==typeof r?t.querySelector(r):r,A=t.createElement("div"),N=!1,M={src:a,networkState:P.NETWORK_EMPTY,readyState:P.HAVE_NOTHING,autoplay:a,preload:a,controls:a,loop:!1,poster:a,volume:1,muted:!1,width:0|k.width?k.width:P._util.MIN_WIDTH,height:0|k.height?k.height:P._util.MIN_HEIGHT,seeking:!1,ended:!1,paused:1,error:null},x=[];return P._eventNamespace=e.guid("HTMLNullVideoElement::"),P.parentNode=k,P._util.type="NullVideo",P.play=function(){return N?(w.play(),void(M.paused&&y())):void i(function(){P.play()})},P.pause=function(){return N?(w.pause(),void(M.paused||m())):void i(function(){P.pause()})},Object.defineProperties(P,{src:{get:function(){return M.src},set:function(e){e&&e!==M.src&&d(e)}},autoplay:{get:function(){return M.autoplay},set:function(e){M.autoplay=P._util.isAttributeSet(e)}},loop:{get:function(){return M.loop},set:function(e){M.loop=P._util.isAttributeSet(e)}},width:{get:function(){return A.width},set:function(e){A.width=e,M.width=A.width}},height:{get:function(){return A.height},set:function(e){A.height=e,M.height=A.height}},currentTime:{get:function(){return l()},set:function(e){p(e)}},duration:{get:function(){return s()}},ended:{get:function(){return M.ended}},paused:{get:function(){return M.paused}},seeking:{get:function(){return M.seeking}},readyState:{get:function(){return M.readyState}},networkState:{get:function(){return M.networkState}},volume:{get:function(){return _()},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";E(e)}},muted:{get:function(){return T()},set:function(e){b(P._util.isAttributeSet(e))}},playbackRate:{get:function(){return w.playbackRate},set:function(e){w.playbackRate=e,P.dispatchEvent("ratechange")}},error:{get:function(){return M.error}}}),P._canPlaySrc=e.HTMLNullVideoElement._canPlaySrc,P.canPlayType=e.HTMLNullVideoElement.canPlayType,P}var o=16,a="",u=/#t=(\d+\.?\d*)?,?(\d+\.?\d*)/;n.prototype={play:function(){var e=this;this.paused&&(this.paused=!1,this.startTime=Date.now(),this.playInterval=setInterval(function(){r(e)},o))},pause:function(){this.paused||(this.paused=!0,clearInterval(this.playInterval))},seekTo:function(e){e=0>e?0:e,e=e>this.duration?this.duration:e,this.currentTime=e}},e.HTMLNullVideoElement=function(e){return new i(e)},e.HTMLNullVideoElement._canPlaySrc=function(e){return u.test(e)?"probably":a},e.HTMLNullVideoElement.canPlayType=function(e){return"video/x-nullvideo"===e?"probably":a}}(Popcorn,document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){var r,o={};return Object.prototype.__defineGetter__||(o=t.createElement("div")),o._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},o.addEventListener=function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},o.removeEventListener=function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},o.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},o.load=e.nop,o.canPlayType=function(){return""},o.getBoundingClientRect=function(){return r.getBoundingClientRect()},o.NETWORK_EMPTY=0,o.NETWORK_IDLE=1,o.NETWORK_LOADING=2,o.NETWORK_NO_SOURCE=3,o.HAVE_NOTHING=0,o.HAVE_METADATA=1,o.HAVE_CURRENT_DATA=2,o.HAVE_FUTURE_DATA=3,o.HAVE_ENOUGH_DATA=4,Object.defineProperties(o,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(e){r=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),o}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=r}(Popcorn,window.document),function(e,t,n){function r(){return c||(e.getScript("https://w.soundcloud.com/player/api.js",function(){e.getScript("https://connect.soundcloud.com/sdk.js",function(){s=!0,SC.initialize({client_id:"PRaNFlda6Bhf5utPjUsptg"});for(var e=d.length;e--;)d[e](),delete d[e]})}),c=!0),s}function i(e){d.unshift(e)}function o(o){function s(e){V.unshift(e)}function c(){M.bind(SC.Widget.Events.LOAD_PROGRESS,function(e){b({type:"loadProgress",data:e.currentPosition/1e3})}),M.bind(SC.Widget.Events.PLAY_PROGRESS,function(e){b({type:"playProgress",data:e.currentPosition/1e3})}),M.bind(SC.Widget.Events.PLAY,function(){b({type:"play"})}),M.bind(SC.Widget.Events.PAUSE,function(){b({type:"pause"})}),M.bind(SC.Widget.Events.SEEK,function(){M.getPosition(function(e){var t=e/1e3;return C.seeking?void(Math.floor(t)!==Math.floor(C.currentTime)?M.seekTo(1e3*C.currentTime):v()):void b({type:"seek",data:t})})}),M.bind(SC.Widget.Events.FINISH,function(){b({type:"finish"})}),D=!0,M.getDuration(l)}function d(){M.bind(SC.Widget.Events.PLAY_PROGRESS,function(e){M.setVolume(0),e.currentPosition>0&&(M.unbind(SC.Widget.Events.PLAY_PROGRESS),M.bind(SC.Widget.Events.PAUSE,function(){M.unbind(SC.Widget.Events.PAUSE),M.setVolume(100),M.bind(SC.Widget.Events.SEEK,function(){M.unbind(SC.Widget.Events.SEEK),c()}),M.seekTo(0)}),M.pause())}),M.play()}function l(e){e/=1e3;var t=C.duration;if(t!==e&&(C.duration=e,R.dispatchEvent("durationchange"),isNaN(t))){C.networkState=R.NETWORK_IDLE,C.readyState=R.HAVE_METADATA,R.dispatchEvent("loadedmetadata"),R.dispatchEvent("loadeddata"),C.readyState=R.HAVE_FUTURE_DATA,R.dispatchEvent("canplay"),C.readyState=R.HAVE_ENOUGH_DATA,R.dispatchEvent("canplaythrough");for(var n=V.length;n--;)V[n](),delete V[n];C.paused&&C.autoplay&&R.play()}}function p(){D&&M&&(clearInterval(O),M.pause(),M.unbind(SC.Widget.Events.READY),M.unbind(SC.Widget.Events.LOAD_PROGRESS),M.unbind(SC.Widget.Events.PLAY_PROGRESS),M.unbind(SC.Widget.Events.PLAY),M.unbind(SC.Widget.Events.PAUSE),M.unbind(SC.Widget.Events.SEEK),M.unbind(SC.Widget.Events.FINISH),I.removeChild(L),L=n.createElement("iframe"))}function f(e){function t(){h(),M.seekTo(e)}return C.currentTime=e,e=1e3*e,D?void t():void addMediaReadyCallback(t)}function h(){C.seeking=!0,R.dispatchEvent("seeking")}function v(){C.ended=!1,C.seeking=!1,R.dispatchEvent("timeupdate"),R.dispatchEvent("seeked"),R.dispatchEvent("canplay"),R.dispatchEvent("canplaythrough")}function y(){C.paused=!0,H||(H=!0,clearInterval(x),R.dispatchEvent("pause"))}function m(){R.dispatchEvent("timeupdate")}function g(){O||(O=setInterval(T,a),C.loop&&R.dispatchEvent("play")),x=setInterval(m,R._util.TIMEUPDATE_MS),C.paused=!1,H&&(H=!1,C.loop||R.dispatchEvent("play"),R.dispatchEvent("playing"))}function E(){C.loop?(f(0),R.play()):(C.ended=!0,R.pause(),y(),R.dispatchEvent("timeupdate"),R.dispatchEvent("ended"))}function _(e){C.currentTime=e,e!==U&&R.dispatchEvent("timeupdate"),U=e}function b(e){switch(e.type){case"loadProgress":R.dispatchEvent("progress");break;case"playProgress":_(e.data);break;case"play":g();break;case"pause":y();break;case"finish":E();break;case"seek":_(e.data)}}function T(){C.ended||M.getPosition(function(e){_(e/1e3)})}function w(t){return R._canPlaySrc(t)?(C.src=t,D&&p(),r()?(D=!1,void SC.get("/resolve",{url:t},function(t){var n;t.errors&&(n={name:"MediaError"},t.errors[0]&&"404 - Not Found"===t.errors[0].error_message&&(n.message="Video not found.",n.code=MediaError.MEDIA_ERR_NETWORK),C.error=n,R.dispatchEvent("error")),L.id=e.guid("soundcloud-"),L.width=C.width,L.height=C.height,L.frameBorder=0,L.webkitAllowFullScreen=!0,L.mozAllowFullScreen=!0,L.allowFullScreen=!0,N(C.controls),I.appendChild(L),L.onload=function(){L.onload=null,M=SC.Widget(L),M.bind(SC.Widget.Events.READY,d),C.networkState=R.NETWORK_LOADING,R.dispatchEvent("loadstart"),R.dispatchEvent("progress")},L.src="https://w.soundcloud.com/player/?url="+t.uri+"&show_artwork=false&buying=false&liking=false&sharing=false&download=false&show_comments=false&show_user=false&single_active=false"})):void i(function(){w(t)})):(C.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void R.dispatchEvent("error"))}function S(e){return C.volume=e,D?(M.setVolume(e),void R.dispatchEvent("volumechange")):void s(function(){S(e)})}function P(){return C.muted>0?C.muted:C.volume}function k(e){return D?void(e?(C.muted=C.volume,S(0)):(C.muted=0,S(C.muted))):(C.muted=e?1:0,void s(function(){k(e)}))}function A(){return C.muted>0}function N(e){D?(L.style.position="absolute",L.style.visibility=e?"visible":"hidden"):(L.style.opacity=e?"1":"0",L.style.pointerEvents=e?"auto":"none"),C.controls=e}if(!t.postMessage)throw"ERROR: HTMLSoundCloudAudioElement requires window.postMessage";var M,x,O,R=new e._MediaElementProto,I="string"==typeof o?e.dom.find(o):o,L=n.createElement("iframe"),C={src:u,networkState:R.NETWORK_EMPTY,readyState:R.HAVE_NOTHING,seeking:!1,autoplay:u,preload:u,controls:!1,loop:!1,poster:u,volume:100,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,width:0|I.width?I.width:R._util.MIN_WIDTH,height:0|I.height?I.height:R._util.MIN_HEIGHT,error:null},D=!1,H=!0,V=[],U=0;return R._eventNamespace=e.guid("HTMLSoundCloudAudioElement::"),R.parentNode=I,R._util.type="SoundCloud",R.play=function(){return C.paused=!1,D?(C.ended&&f(0),void M.play()):void s(function(){R.play()})},R.pause=function(){return C.paused=!0,D?void M.pause():void s(function(){R.pause()})},Object.defineProperties(R,{src:{get:function(){return C.src},set:function(e){e&&e!==C.src&&w(e)}},autoplay:{get:function(){return C.autoplay},set:function(e){C.autoplay=R._util.isAttributeSet(e)}},loop:{get:function(){return C.loop},set:function(e){C.loop=R._util.isAttributeSet(e)}},width:{get:function(){return L.width},set:function(e){L.width=e,C.width=L.width}},height:{get:function(){return L.height},set:function(e){L.height=e,C.height=L.height}},currentTime:{get:function(){return C.currentTime},set:function(e){f(e)}},duration:{get:function(){return C.duration}},ended:{get:function(){return C.ended}},paused:{get:function(){return C.paused}},seeking:{get:function(){return C.seeking}},readyState:{get:function(){return C.readyState}},networkState:{get:function(){return C.networkState}},volume:{get:function(){var e=P();return e/100},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";e=100*e,S(e)}},muted:{get:function(){return A()},set:function(e){k(R._util.isAttributeSet(e))}},error:{get:function(){return C.error}},controls:{get:function(){return C.controls},set:function(e){N(!!e)}}}),R._canPlaySrc=e.HTMLSoundCloudAudioElement._canPlaySrc,R.canPlayType=e.HTMLSoundCloudAudioElement.canPlayType,R}var a=16,u="",s=!1,c=!1,d=[];e.HTMLSoundCloudAudioElement=function(e){return new o(e)},e.HTMLSoundCloudAudioElement._canPlaySrc=function(e){return/(?:https?:\/\/www\.|https?:\/\/|www\.|\.|^)(soundcloud)/.test(e)?"probably":u},e.HTMLSoundCloudAudioElement.canPlayType=function(e){return"audio/x-soundcloud"===e?"probably":u
}}(Popcorn,window,document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){var r,o={};return Object.prototype.__defineGetter__||(o=t.createElement("div")),o._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},o.addEventListener=function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},o.removeEventListener=function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},o.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},o.load=e.nop,o.canPlayType=function(){return""},o.getBoundingClientRect=function(){return r.getBoundingClientRect()},o.NETWORK_EMPTY=0,o.NETWORK_IDLE=1,o.NETWORK_LOADING=2,o.NETWORK_NO_SOURCE=3,o.HAVE_NOTHING=0,o.HAVE_METADATA=1,o.HAVE_CURRENT_DATA=2,o.HAVE_FUTURE_DATA=3,o.HAVE_ENOUGH_DATA=4,Object.defineProperties(o,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(e){r=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),o}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=r}(Popcorn,window.document),function(e,t,n){function r(e){function n(t,n){var r=JSON.stringify({method:t,value:n});e.contentWindow&&e.contentWindow.postMessage(r,i)}var r=this,i=e.src.split("?")[0];"//"===i.substr(0,2)&&(i=t.location.protocol+i);var o="play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ");o.forEach(function(e){r[e]=function(t){n(e,t)}})}function i(i){function s(e){U.unshift(e)}function c(){M.addEventListener("loadProgress"),M.addEventListener("playProgress"),M.addEventListener("play"),M.addEventListener("pause"),M.addEventListener("finish"),M.addEventListener("seek"),M.getDuration(),C.networkState=R.NETWORK_LOADING,R.dispatchEvent("loadstart"),R.dispatchEvent("progress")}function d(e){var t=C.duration;if(t!==e&&(C.duration=e,R.dispatchEvent("durationchange"),isNaN(t))){C.networkState=R.NETWORK_IDLE,C.readyState=R.HAVE_METADATA,R.dispatchEvent("loadedmetadata"),R.dispatchEvent("loadeddata"),C.readyState=R.HAVE_FUTURE_DATA,R.dispatchEvent("canplay"),C.readyState=R.HAVE_ENOUGH_DATA,R.dispatchEvent("canplaythrough"),C.autoplay&&R.play();for(var n=U.length;n--;)U[n](),delete U[n]}}function l(){D&&M&&(clearInterval(O),M.pause(),t.removeEventListener("message",b,!1),I.removeChild(L),L=n.createElement("iframe"))}function p(e){return D?(f(),void M.seekTo(e)):void s(function(){p(e)})}function f(){C.seeking=!0,R.dispatchEvent("seeking")}function h(){C.seeking=!1,R.dispatchEvent("timeupdate"),R.dispatchEvent("seeked"),R.dispatchEvent("canplay"),R.dispatchEvent("canplaythrough")}function v(){C.paused=!0,V||(V=!0,clearInterval(x),R.dispatchEvent("pause"))}function y(){R.dispatchEvent("timeupdate")}function m(){C.ended&&p(0),O||(O=setInterval(T,o),C.loop&&R.dispatchEvent("play")),x=setInterval(y,R._util.TIMEUPDATE_MS),C.paused=!1,V&&(V=!1,C.loop||R.dispatchEvent("play"),R.dispatchEvent("playing"))}function g(){C.loop?(p(0),R.play()):(C.ended=!0,R.dispatchEvent("ended"))}function E(e){var t=C.currentTime=e;t!==j&&R.dispatchEvent("timeupdate"),j=C.currentTime}function _(e){if(e.origin===u){var n;try{n=JSON.parse(e.data)}catch(i){console.warn(i)}if(n.player_id==H)switch(n.event){case"ready":M=new r(L),M.addEventListener("loadProgress"),M.addEventListener("pause"),M.setVolume(0),M.play();break;case"loadProgress":var o=parseFloat(n.data.duration);o>0&&!D&&(D=!0,M.pause());break;case"pause":M.setVolume(1),t.removeEventListener("message",_,!1),t.addEventListener("message",b,!1),c()}}}function b(e){if(e.origin===u){var t;try{t=JSON.parse(e.data)}catch(n){console.warn(n)}if(t.player_id==H){switch(t.method){case"getCurrentTime":E(parseFloat(t.value));break;case"getDuration":d(parseFloat(t.value));break;case"getVolume":S(parseFloat(t.value))}switch(t.event){case"loadProgress":R.dispatchEvent("progress"),d(parseFloat(t.data.duration));break;case"playProgress":E(parseFloat(t.data.seconds));break;case"play":m();break;case"pause":v();break;case"finish":g();break;case"seek":E(parseFloat(t.data.seconds)),h()}}}}function T(){M.getCurrentTime()}function w(e){if(!R._canPlaySrc(e))return C.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void R.dispatchEvent("error");C.src=e,D&&l(),D=!1;var n,r=R._util.parseUri(e),i=r.queryKey,o=["api=1","player_id="+H,"title=0","byline=0","portrait=0"];C.loop="1"===i.loop||C.loop,delete i.loop,C.autoplay="1"===i.autoplay||C.autoplay,delete i.autoplay,r=u+"/video/"+/\d+$/.exec(r.path)+"?";for(n in i)i.hasOwnProperty(n)&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(i[n]));r+=o.join("&"),L.id=H,L.style.width="100%",L.style.height="100%",L.frameBorder=0,L.webkitAllowFullScreen=!0,L.mozAllowFullScreen=!0,L.allowFullScreen=!0,I.appendChild(L),L.src=r,t.addEventListener("message",_,!1)}function S(e){C.volume!==e&&(C.volume=e,R.dispatchEvent("volumechange"))}function P(e){return C.volume=e,D?(M.setVolume(e),void R.dispatchEvent("volumechange")):void s(function(){P(e)})}function k(){return C.muted>0?C.muted:C.volume}function A(e){return D?void(e?(C.muted=C.volume,P(0)):(C.muted=0,P(C.muted))):(C.muted=e?1:0,void s(function(){A(e)}))}function N(){return C.muted>0}if(!t.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var M,x,O,R=new e._MediaElementProto,I="string"==typeof i?e.dom.find(i):i,L=n.createElement("iframe"),C={src:a,networkState:R.NETWORK_EMPTY,readyState:R.HAVE_NOTHING,seeking:!1,autoplay:a,preload:a,controls:!1,loop:!1,poster:a,volume:1,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},D=!1,H=e.guid(),V=!0,U=[],j=0;return R._eventNamespace=e.guid("HTMLVimeoVideoElement::"),R.parentNode=I,R._util.type="Vimeo",R.play=function(){return C.paused=!1,D?void M.play():void s(function(){R.play()})},R.pause=function(){return C.paused=!0,D?void M.pause():void s(function(){R.pause()})},Object.defineProperties(R,{src:{get:function(){return C.src},set:function(e){e&&e!==C.src&&w(e)}},autoplay:{get:function(){return C.autoplay},set:function(e){C.autoplay=R._util.isAttributeSet(e)}},loop:{get:function(){return C.loop},set:function(e){C.loop=R._util.isAttributeSet(e)}},width:{get:function(){return R.parentNode.offsetWidth}},height:{get:function(){return R.parentNode.offsetHeight}},currentTime:{get:function(){return C.currentTime},set:function(e){p(e)}},duration:{get:function(){return C.duration}},ended:{get:function(){return C.ended}},paused:{get:function(){return C.paused}},seeking:{get:function(){return C.seeking}},readyState:{get:function(){return C.readyState}},networkState:{get:function(){return C.networkState}},volume:{get:function(){return k()},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";P(e)}},muted:{get:function(){return N()},set:function(e){A(R._util.isAttributeSet(e))}},error:{get:function(){return C.error}}}),R._canPlaySrc=e.HTMLVimeoVideoElement._canPlaySrc,R.canPlayType=e.HTMLVimeoVideoElement.canPlayType,R}var o=16,a="",u="https://player.vimeo.com";e.HTMLVimeoVideoElement=function(e){return new i(e)},e.HTMLVimeoVideoElement._canPlaySrc=function(e){return/player.vimeo.com\/video\/\d+/.test(e)||/vimeo.com\/\d+/.test(e)?"probably":a},e.HTMLVimeoVideoElement.canPlayType=function(e){return"video/x-vimeo"===e?"probably":a}}(Popcorn,window,document),function(e,t){function n(e){for(var t=n.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[t.key[o]]=r[o]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(i[t.q.name][n]=r)}),i}function r(){var r,o={};return Object.prototype.__defineGetter__||(o=t.createElement("div")),o._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(e){return"string"==typeof e||e===!0},parseUri:n},o.addEventListener=function(e,n,r){t.addEventListener(this._eventNamespace+e,n,r)},o.removeEventListener=function(e,n,r){t.removeEventListener(this._eventNamespace+e,n,r)},o.dispatchEvent=function(e){var n=t.createEvent("CustomEvent"),r={type:e,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+e,!1,!1,r),t.dispatchEvent(n)},o.load=e.nop,o.canPlayType=function(){return""},o.getBoundingClientRect=function(){return r.getBoundingClientRect()},o.NETWORK_EMPTY=0,o.NETWORK_IDLE=1,o.NETWORK_LOADING=2,o.NETWORK_NO_SOURCE=3,o.HAVE_NOTHING=0,o.HAVE_METADATA=1,o.HAVE_CURRENT_DATA=2,o.HAVE_FUTURE_DATA=3,o.HAVE_ENOUGH_DATA=4,Object.defineProperties(o,{currentSrc:{get:function(){return void 0!==this.src?this.src:""},configurable:!0},parentNode:{get:function(){return r},set:function(e){r=e},configurable:!0},preload:{get:function(){return"auto"},set:e.nop,configurable:!0},controls:{get:function(){return!0},set:e.nop,configurable:!0},poster:{get:function(){return""},set:e.nop,configurable:!0},crossorigin:{get:function(){return""},configurable:!0},played:{get:function(){return i},configurable:!0},seekable:{get:function(){return i},configurable:!0},buffered:{get:function(){return i},configurable:!0},defaultMuted:{get:function(){return!1},configurable:!0},defaultPlaybackRate:{get:function(){return 1},configurable:!0},style:{get:function(){return this.parentNode.style},configurable:!0},id:{get:function(){return this.parentNode.id},configurable:!0}}),o}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:e.nop,end:e.nop};window.MediaError=window.MediaError||function(){function e(e,t){this.code=e||null,this.message=t||""}return e.MEDIA_ERR_NONE_ACTIVE=0,e.MEDIA_ERR_ABORTED=1,e.MEDIA_ERR_NETWORK=2,e.MEDIA_ERR_DECODE=3,e.MEDIA_ERR_NONE_SUPPORTED=4,e}(),e._MediaElementProto=r}(Popcorn,window.document),function(e,t,n){function r(){var e;if(YT.loaded)for(l=!0;f.length;)(e=f.shift())();else setTimeout(r,250)}function i(){var e;return p||(t.YT?r():(e=n.createElement("script"),e.addEventListener("load",r,!1),e.src="https://www.youtube.com/iframe_api",n.head.appendChild(e)),p=!0),l}function o(e){f.push(e)}function a(r){function a(e){$.push(e)}function l(){H.pauseVideo(),E("play",l),g("play",O)}function p(){g("pause",I),E("pause",p)}function f(){var e=function(){H.isMuted()?(g("play",m),H.playVideo()):setTimeout(e,0)};G=!0,H.mute(),e()}function h(e){var t={name:"MediaError"};switch(e.data){case 2:t.message="Invalid video parameter.",t.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:t.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",t.code=MediaError.MEDIA_ERR_DECODE;case 100:t.message="Video not found.",t.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:t.message="Video not usable.",t.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:t.message="Unknown error.",t.code=5}B.error=t,W.dispatchEvent("error")}function v(){for(g("play",O),g("pause",I),(B.autoplay||!B.paused)&&(E("play",v),B.paused=!1,a(function(){B.paused||O()})),B.muted||H.unMute(),B.readyState=W.HAVE_METADATA,W.dispatchEvent("loadedmetadata"),U=setInterval(P,u),W.dispatchEvent("loadeddata"),B.readyState=W.HAVE_FUTURE_DATA,W.dispatchEvent("canplay"),K=!0,V=setInterval(k,50);$.length;)$[0](),$.shift();B.readyState=W.HAVE_ENOUGH_DATA,W.dispatchEvent("canplaythrough")}function y(){return E("pause",y),H.getCurrentTime()>0?void setTimeout(y,0):void(B.autoplay||!B.paused?(g("play",v),H.playVideo()):v())}function m(){return E("play",m),0===H.getCurrentTime()?void setTimeout(m,0):(g("pause",y),H.seekTo(0),void H.pauseVideo())}function g(e,t){W.addEventListener("youtube-"+e,t,!1)}function E(e,t){W.removeEventListener("youtube-"+e,t,!1)}function _(e){W.dispatchEvent("youtube-"+e)}function b(){B.networkState=W.NETWORK_LOADING,W.dispatchEvent("waiting")}function T(e){switch(e.data){case YT.PlayerState.ENDED:_("ended");break;case YT.PlayerState.PLAYING:_("play");break;case YT.PlayerState.PAUSED:H.getDuration()!==H.getCurrentTime()&&_("pause");break;case YT.PlayerState.BUFFERING:_("buffering");break;case YT.PlayerState.CUED:}e.data!==YT.PlayerState.BUFFERING&&J===YT.PlayerState.BUFFERING&&R(),J=e.data}function w(){G&&H&&(E("buffering",b),E("ended",L),E("play",O),E("pause",I),I(),K=!1,Y=!1,B.currentTime=0,$=[],clearInterval(U),clearInterval(V),H.stopVideo(),H.clearVideo(),H.destroy(),q=n.createElement("div"))}function S(n){if(!W._canPlaySrc(n))return B.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},void W.dispatchEvent("error");if(B.src=n,!i())return void o(function(){S(n)});if(G){if(!K)return void a(function(){S(n)});w()}F.appendChild(q);var r=W._util.parseUri(n).queryKey;delete r.v,B.autoplay="1"===r.autoplay||B.autoplay,delete r.autoplay,B.loop="1"===r.loop||B.loop,delete r.loop,r.rel=r.rel||0,r.modestbranding=r.modestbranding||1,r.iv_load_policy=r.iv_load_policy||3,r.disablekb=r.disablekb||1,r.showinfo=r.showinfo||0;var u="file:"===t.location.protocol?"*":t.location.protocol+"//"+t.location.host;r.origin=r.origin||u,r.controls=r.controls||B.controls?2:0,B.controls=r.controls,r.wmode=r.wmode||"opaque",n=c.exec(n)[1];var s="https://gdata.youtube.com/feeds/api/videos/"+n+"?v=2&alt=jsonc&callback=?";e.getJSONP(s,function(e){var t="failed to retreive duration data, reason: ";return e.error?void console.warn(t+e.error.message):e.data?(B.duration=e.data.duration,W.dispatchEvent("durationchange"),H=new YT.Player(q,{width:"100%",height:"100%",wmode:r.wmode,videoId:n,playerVars:r,events:{onReady:f,onError:h,onStateChange:T}}),B.networkState=W.NETWORK_LOADING,W.dispatchEvent("loadstart"),void W.dispatchEvent("progress")):void console.warn(t+"no response data")})}function P(){var e=H.getCurrentTime();B.seeking?d(e-B.currentTime)<1&&x():(d(B.currentTime-e)>u&&(M(),x()),B.currentTime=e)}function k(){var e=H.getVideoLoadedFraction();e&&X!==e&&(X=e,R())}function A(e){if(e!==B.currentTime){if(B.currentTime=e,!K)return void a(function(){M(),H.seekTo(e)});M(),H.seekTo(e)}}function N(){W.dispatchEvent("timeupdate")}function M(){g("pause",p),E("pause",I),B.seeking=!0,W.dispatchEvent("seeking")}function x(){B.ended=!1,B.seeking=!1,W.dispatchEvent("timeupdate"),W.dispatchEvent("seeked"),W.dispatchEvent("canplay"),W.dispatchEvent("canplaythrough")}function O(){B.ended&&(A(0),B.ended=!1),j=setInterval(N,W._util.TIMEUPDATE_MS),B.paused=!1,z&&(z=!1,(B.loop&&!Y||!B.loop)&&(Y=!0,W.dispatchEvent("play")),W.dispatchEvent("playing"))}function R(){W.dispatchEvent("progress")}function I(){B.paused=!0,z||(z=!0,clearInterval(j),W.dispatchEvent("pause"))}function L(){B.loop?(A(0),W.play()):(B.ended=!0,I(),g("play",l),E("play",O),W.dispatchEvent("timeupdate"),W.dispatchEvent("ended"))}function C(e){return B.muted=e,K?(H[e?"mute":"unMute"](),void W.dispatchEvent("volumechange")):void a(function(){C(B.muted)})}function D(){return B.muted}if(!t.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var H,V,U,j,W=new e._MediaElementProto,F="string"==typeof r?n.querySelector(r):r,q=n.createElement("div"),B={src:s,networkState:W.NETWORK_EMPTY,readyState:W.HAVE_NOTHING,seeking:!1,autoplay:s,preload:s,controls:!1,loop:!1,poster:s,volume:1,muted:!1,currentTime:0,duration:0/0,ended:!1,paused:!0,error:null},G=!1,K=!1,Y=!1,z=!0,$=[],J=-1,X=0;return W._eventNamespace=e.guid("HTMLYouTubeVideoElement::"),W.parentNode=F,W._util.type="YouTube",g("buffering",b),g("ended",L),W.play=function(){return B.paused=!1,K?void H.playVideo():void a(function(){W.play()})},W.pause=function(){return B.paused=!0,K?(p(),void H.pauseVideo()):void a(function(){W.pause()})},Object.defineProperties(W,{src:{get:function(){return B.src},set:function(e){e&&e!==B.src&&S(e)}},autoplay:{get:function(){return B.autoplay},set:function(e){B.autoplay=W._util.isAttributeSet(e)}},loop:{get:function(){return B.loop},set:function(e){B.loop=W._util.isAttributeSet(e)}},width:{get:function(){return W.parentNode.offsetWidth}},height:{get:function(){return W.parentNode.offsetHeight}},currentTime:{get:function(){return B.currentTime},set:function(e){A(e)}},duration:{get:function(){return B.duration}},ended:{get:function(){return B.ended}},paused:{get:function(){return B.paused}},seeking:{get:function(){return B.seeking}},readyState:{get:function(){return B.readyState}},networkState:{get:function(){return B.networkState}},volume:{get:function(){return B.volume},set:function(e){if(0>e||e>1)throw"Volume value must be between 0.0 and 1.0";return B.volume=e,K?(H.setVolume(100*B.volume),void W.dispatchEvent("volumechange")):void a(function(){W.volume=e})}},muted:{get:function(){return D()},set:function(e){C(W._util.isAttributeSet(e))}},error:{get:function(){return B.error}},buffered:{get:function(){var e={start:function(e){if(0===e)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1"},end:function(e){if(0===e)return B.duration?B.duration*X:0;throw"INDEX_SIZE_ERR: DOM Exception 1"},length:1};return e},configurable:!0}}),W._canPlaySrc=e.HTMLYouTubeVideoElement._canPlaySrc,W.canPlayType=e.HTMLYouTubeVideoElement.canPlayType,W}var u=10,s="",c=/^.*(?:\/|v=)(.{11})/,d=Math.abs,l=!1,p=!1,f=[];e.HTMLYouTubeVideoElement=function(e){return new a(e)},e.HTMLYouTubeVideoElement._canPlaySrc=function(e){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(e)?"probably":s},e.HTMLYouTubeVideoElement.canPlayType=function(e){return"video/x-youtube"===e?"probably":s}}(Popcorn,window,document);